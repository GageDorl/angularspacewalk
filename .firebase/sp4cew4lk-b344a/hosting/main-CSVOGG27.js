import{$ as ct,$a as Wf,A as Or,Aa as ku,Ab as Uu,B as Nr,Ba as Lf,Bb as np,C as ds,Ca as ba,D as Su,Da as qr,E as Fr,Ea as Bf,F as Af,Fa as Uf,G as va,Ga as _s,H as Ln,Ha as Un,I as Ru,Ia as jf,J as Sf,Ja as $f,K as Rf,Ka as qf,L as xf,La as zf,M as Ht,Ma as Ou,N as wa,Na as Ea,O as et,Oa as Nu,P as Ie,Pa as Gf,Q as fs,Qa as Hf,R as we,Ra as Ia,S as ps,Sa as Ca,T as Df,Ta as $,U as Re,Ua as q,V as xu,Va as ne,W as De,Wa as zr,X as K,Xa as ut,Y as ms,Ya as bs,Z as tt,Za as Ta,_ as gs,_a as Kf,a as U,aa as ys,ab as Aa,b as ve,ba as Pf,bb as Sa,ca as _a,cb as G,d as fv,da as rn,db as Gr,e as pv,ea as lr,eb as Es,f as L,fa as Lr,fb as Is,g as wf,ga as Br,gb as nt,h as _f,ha as Ur,hb as Ra,i as Eu,ia as Vf,ib as xa,j as Iu,ja as Du,jb as Qf,k as vt,ka as Mf,kb as Fu,l as wt,la as Vt,lb as Lu,m as Fn,ma as Bn,mb as Yf,n as at,na as Pu,nb as Cs,o as W,oa as jr,ob as Jf,p as hs,pa as kf,pb as Ts,q as bf,qa as Vu,qb as As,r as Ef,ra as Of,rb as jn,s as ge,sa as vs,sb as Hr,t as Cu,ta as Nf,tb as Xf,u as _t,ua as Mu,ub as Zf,v as Tu,va as $r,vb as bt,w as If,wa as Ff,wb as Bu,x as Au,xa as ws,xb as Da,y as Cf,ya as je,yb as ep,z as Tf,za as he,zb as tp}from"./chunk-MYH4MMVM.js";var Yp=fv((Wt,Ml)=>{"use strict";(function(n,e){typeof Wt=="object"&&typeof Ml<"u"?Ml.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Wt,function(){"use strict";function n(c,u,p){if(typeof c=="function"?c===u:c.has(u))return arguments.length<3?u:p;throw new TypeError("Private element is not present on this object")}function e(c,u){if(u.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(c,u){return c.get(n(c,u))}function r(c,u,p){e(c,u),u.set(c,p)}function i(c,u,p){return c.set(n(c,u),p),p}let s=100,a={},h=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},d=c=>new Promise(u=>{if(!c)return u();let p=window.scrollX,v=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{h(),u()},s),window.scrollTo(p,v)}),m="swal2-",y=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((c,u)=>(c[u]=m+u,c),{}),V=["success","warning","info","question","error"].reduce((c,u)=>(c[u]=m+u,c),{}),N="SweetAlert2:",j=c=>c.charAt(0).toUpperCase()+c.slice(1),M=c=>{console.warn(`${N} ${typeof c=="object"?c.join(" "):c}`)},Z=c=>{console.error(`${N} ${c}`)},le=[],oe=c=>{le.includes(c)||(le.push(c),M(c))},_e=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;oe(`"${c}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},Ke=c=>typeof c=="function"?c():c,me=c=>c&&typeof c.toPromise=="function",A=c=>me(c)?c.toPromise():Promise.resolve(c),_=c=>c&&Promise.resolve(c)===c,b=()=>document.body.querySelector(`.${y.container}`),I=c=>{let u=b();return u?u.querySelector(c):null},C=c=>I(`.${c}`),T=()=>C(y.popup),E=()=>C(y.icon),Tt=()=>C(y["icon-content"]),wn=()=>C(y.title),Li=()=>C(y["html-container"]),_n=()=>C(y.image),tn=()=>C(y["progress-steps"]),bn=()=>C(y["validation-message"]),lt=()=>I(`.${y.actions} .${y.confirm}`),En=()=>I(`.${y.actions} .${y.cancel}`),Xe=()=>I(`.${y.actions} .${y.deny}`),qe=()=>C(y["input-label"]),In=()=>I(`.${y.loader}`),At=()=>C(y.actions),Ao=()=>C(y.footer),Ft=()=>C(y["timer-progress-bar"]),Bi=()=>C(y.close),ru=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cn=()=>{let c=T();if(!c)return[];let u=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(u).sort((F,X)=>{let fe=parseInt(F.getAttribute("tabindex")||"0"),Te=parseInt(X.getAttribute("tabindex")||"0");return fe>Te?1:fe<Te?-1:0}),v=c.querySelectorAll(ru),R=Array.from(v).filter(F=>F.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(R))].filter(F=>Qe(F))},Tn=()=>ht(document.body,y.shown)&&!ht(document.body,y["toast-shown"])&&!ht(document.body,y["no-backdrop"]),An=()=>{let c=T();return c?ht(c,y.toast):!1},Ui=()=>{let c=T();return c?c.hasAttribute("data-loading"):!1},We=(c,u)=>{if(c.textContent="",u){let v=new DOMParser().parseFromString(u,"text/html"),R=v.querySelector("head");R&&Array.from(R.childNodes).forEach(X=>{c.appendChild(X)});let F=v.querySelector("body");F&&Array.from(F.childNodes).forEach(X=>{X instanceof HTMLVideoElement||X instanceof HTMLAudioElement?c.appendChild(X.cloneNode(!0)):c.appendChild(X)})}},ht=(c,u)=>{if(!u)return!1;let p=u.split(/\s+/);for(let v=0;v<p.length;v++)if(!c.classList.contains(p[v]))return!1;return!0},So=(c,u)=>{Array.from(c.classList).forEach(p=>{!Object.values(y).includes(p)&&!Object.values(V).includes(p)&&!Object.values(u.showClass||{}).includes(p)&&c.classList.remove(p)})},Ze=(c,u,p)=>{if(So(c,u),!u.customClass)return;let v=u.customClass[p];if(v){if(typeof v!="string"&&!v.forEach){M(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof v}"`);return}ee(c,v)}},br=(c,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return c.querySelector(`.${y.popup} > .${y[u]}`);case"checkbox":return c.querySelector(`.${y.popup} > .${y.checkbox} input`);case"radio":return c.querySelector(`.${y.popup} > .${y.radio} input:checked`)||c.querySelector(`.${y.popup} > .${y.radio} input:first-child`);case"range":return c.querySelector(`.${y.popup} > .${y.range} input`);default:return c.querySelector(`.${y.popup} > .${y.input}`)}},ji=c=>{if(c.focus(),c.type!=="file"){let u=c.value;c.value="",c.value=u}},$i=(c,u,p)=>{!c||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(v=>{Array.isArray(c)?c.forEach(R=>{p?R.classList.add(v):R.classList.remove(v)}):p?c.classList.add(v):c.classList.remove(v)}))},ee=(c,u)=>{$i(c,u,!0)},dt=(c,u)=>{$i(c,u,!1)},Lt=(c,u)=>{let p=Array.from(c.children);for(let v=0;v<p.length;v++){let R=p[v];if(R instanceof HTMLElement&&ht(R,u))return R}},St=(c,u,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?c.style.setProperty(u,typeof p=="number"?`${p}px`:p):c.style.removeProperty(u)},Se=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=u)},Ve=c=>{c&&(c.style.display="none")},Me=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(()=>{Bt(c,c.innerHTML,u)}).observe(c,{childList:!0,subtree:!0})},ze=(c,u,p,v)=>{let R=c.querySelector(u);R&&R.style.setProperty(p,v)},Bt=function(c,u){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";u?Se(c,p):Ve(c)},Qe=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),Ro=()=>!Qe(lt())&&!Qe(Xe())&&!Qe(En()),xo=c=>c.scrollHeight>c.clientHeight,Sn=c=>{let u=window.getComputedStyle(c),p=parseFloat(u.getPropertyValue("animation-duration")||"0"),v=parseFloat(u.getPropertyValue("transition-duration")||"0");return p>0||v>0},Er=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=Ft();p&&Qe(p)&&(u&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${c/1e3}s linear`,p.style.width="0%"},10))},Do=()=>{let c=Ft();if(!c)return;let u=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";let p=parseInt(window.getComputedStyle(c).width),v=u/p*100;c.style.width=`${v}%`},qi=()=>typeof window>"u"||typeof document>"u",iu=`
 <div aria-labelledby="${y.title}" aria-describedby="${y["html-container"]}" class="${y.popup}" tabindex="-1">
   <button type="button" class="${y.close}"></button>
   <ul class="${y["progress-steps"]}"></ul>
   <div class="${y.icon}"></div>
   <img class="${y.image}" />
   <h2 class="${y.title}" id="${y.title}"></h2>
   <div class="${y["html-container"]}" id="${y["html-container"]}"></div>
   <input class="${y.input}" id="${y.input}" />
   <input type="file" class="${y.file}" />
   <div class="${y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${y.select}" id="${y.select}"></select>
   <div class="${y.radio}"></div>
   <label class="${y.checkbox}">
     <input type="checkbox" id="${y.checkbox}" />
     <span class="${y.label}"></span>
   </label>
   <textarea class="${y.textarea}" id="${y.textarea}"></textarea>
   <div class="${y["validation-message"]}" id="${y["validation-message"]}"></div>
   <div class="${y.actions}">
     <div class="${y.loader}"></div>
     <button type="button" class="${y.confirm}"></button>
     <button type="button" class="${y.deny}"></button>
     <button type="button" class="${y.cancel}"></button>
   </div>
   <div class="${y.footer}"></div>
   <div class="${y["timer-progress-bar-container"]}">
     <div class="${y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),su=()=>{let c=b();return c?(c.remove(),dt([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0):!1},Rt=()=>{a.currentInstance.resetValidationMessage()},Po=()=>{let c=T(),u=Lt(c,y.input),p=Lt(c,y.file),v=c.querySelector(`.${y.range} input`),R=c.querySelector(`.${y.range} output`),F=Lt(c,y.select),X=c.querySelector(`.${y.checkbox} input`),fe=Lt(c,y.textarea);u.oninput=Rt,p.onchange=Rt,F.onchange=Rt,X.onchange=Rt,fe.oninput=Rt,v.oninput=()=>{Rt(),R.value=v.value},v.onchange=()=>{Rt(),R.value=v.value}},Vo=c=>typeof c=="string"?document.querySelector(c):c,Wn=c=>{let u=T();u.setAttribute("role",c.toast?"alert":"dialog"),u.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||u.setAttribute("aria-modal","true")},zi=c=>{window.getComputedStyle(c).direction==="rtl"&&ee(b(),y.rtl)},Gi=c=>{let u=su();if(qi()){Z("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=y.container,u&&ee(p,y["no-transition"]),We(p,iu);let v=Vo(c.target);v.appendChild(p),Wn(c),zi(v),Po()},xt=(c,u)=>{c instanceof HTMLElement?u.appendChild(c):typeof c=="object"?Mo(c,u):c&&We(u,c)},Mo=(c,u)=>{c.jquery?Ir(u,c):We(u,c.toString())},Ir=(c,u)=>{if(c.textContent="",0 in u)for(let p=0;p in u;p++)c.appendChild(u[p].cloneNode(!0));else c.appendChild(u.cloneNode(!0))},ko=(c,u)=>{let p=At(),v=In();!p||!v||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?Ve(p):Se(p),Ze(p,u,"actions"),Qn(p,v,u),We(v,u.loaderHtml||""),Ze(v,u,"loader"))};function Qn(c,u,p){let v=lt(),R=Xe(),F=En();!v||!R||!F||(Le(v,"confirm",p),Le(R,"deny",p),Le(F,"cancel",p),Oo(v,R,F,p),p.reverseButtons&&(p.toast?(c.insertBefore(F,v),c.insertBefore(R,v)):(c.insertBefore(F,u),c.insertBefore(R,u),c.insertBefore(v,u))))}function Oo(c,u,p,v){if(!v.buttonsStyling){dt([c,u,p],y.styled);return}ee([c,u,p],y.styled),v.confirmButtonColor&&(c.style.backgroundColor=v.confirmButtonColor,ee(c,y["default-outline"])),v.denyButtonColor&&(u.style.backgroundColor=v.denyButtonColor,ee(u,y["default-outline"])),v.cancelButtonColor&&(p.style.backgroundColor=v.cancelButtonColor,ee(p,y["default-outline"]))}function Le(c,u,p){let v=j(u);Bt(c,p[`show${v}Button`],"inline-block"),We(c,p[`${u}ButtonText`]||""),c.setAttribute("aria-label",p[`${u}ButtonAriaLabel`]||""),c.className=y[u],Ze(c,p,`${u}Button`)}let No=(c,u)=>{let p=Bi();p&&(We(p,u.closeButtonHtml||""),Ze(p,u,"closeButton"),Bt(p,u.showCloseButton),p.setAttribute("aria-label",u.closeButtonAriaLabel||""))},Yn=(c,u)=>{let p=b();p&&(Jn(p,u.backdrop),ou(p,u.position),au(p,u.grow),Ze(p,u,"container"))};function Jn(c,u){typeof u=="string"?c.style.background=u:u||ee([document.documentElement,document.body],y["no-backdrop"])}function ou(c,u){u&&(u in y?ee(c,y[u]):(M('The "position" parameter is not valid, defaulting to "center"'),ee(c,y.center)))}function au(c,u){u&&ee(c,y[`grow-${u}`])}var ae={innerParams:new WeakMap,domCache:new WeakMap};let cu=["input","file","range","select","radio","checkbox","textarea"],uu=(c,u)=>{let p=T();if(!p)return;let v=ae.innerParams.get(c),R=!v||u.input!==v.input;cu.forEach(F=>{let X=Lt(p,y[F]);X&&(Hi(F,u.inputAttributes),X.className=y[F],R&&Ve(X))}),u.input&&(R&&Cr(u),Tr(u))},Cr=c=>{if(!c.input)return;if(!be[c.input]){Z(`Unexpected type of input! Expected ${Object.keys(be).join(" | ")}, got "${c.input}"`);return}let u=Ki(c.input);if(!u)return;let p=be[c.input](u,c);Se(u),c.inputAutoFocus&&setTimeout(()=>{ji(p)})},Fo=c=>{for(let u=0;u<c.attributes.length;u++){let p=c.attributes[u].name;["id","type","value","style"].includes(p)||c.removeAttribute(p)}},Hi=(c,u)=>{let p=T();if(!p)return;let v=br(p,c);if(v){Fo(v);for(let R in u)v.setAttribute(R,u[R])}},Tr=c=>{if(!c.input)return;let u=Ki(c.input);u&&Ze(u,c,"input")},gt=(c,u)=>{!c.placeholder&&u.inputPlaceholder&&(c.placeholder=u.inputPlaceholder)},Rn=(c,u,p)=>{if(p.inputLabel){let v=document.createElement("label"),R=y["input-label"];v.setAttribute("for",c.id),v.className=R,typeof p.customClass=="object"&&ee(v,p.customClass.inputLabel),v.innerText=p.inputLabel,u.insertAdjacentElement("beforebegin",v)}},Ki=c=>{let u=T();if(u)return Lt(u,y[c]||y.input)},xn=(c,u)=>{["string","number"].includes(typeof u)?c.value=`${u}`:_(u)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},be={};be.text=be.email=be.password=be.number=be.tel=be.url=be.search=be.date=be["datetime-local"]=be.time=be.week=be.month=(c,u)=>(xn(c,u.inputValue),Rn(c,c,u),gt(c,u),c.type=u.input,c),be.file=(c,u)=>(Rn(c,c,u),gt(c,u),c),be.range=(c,u)=>{let p=c.querySelector("input"),v=c.querySelector("output");return xn(p,u.inputValue),p.type=u.input,xn(v,u.inputValue),Rn(p,c,u),c},be.select=(c,u)=>{if(c.textContent="",u.inputPlaceholder){let p=document.createElement("option");We(p,u.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,c.appendChild(p)}return Rn(c,c,u),c},be.radio=c=>(c.textContent="",c),be.checkbox=(c,u)=>{let p=br(T(),"checkbox");p.value="1",p.checked=!!u.inputValue;let v=c.querySelector("span");return We(v,u.inputPlaceholder||u.inputLabel),p},be.textarea=(c,u)=>{xn(c,u.inputValue),gt(c,u),Rn(c,c,u);let p=v=>parseInt(window.getComputedStyle(v).marginLeft)+parseInt(window.getComputedStyle(v).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let v=parseInt(window.getComputedStyle(T()).width),R=()=>{if(!document.body.contains(c))return;let F=c.offsetWidth+p(c);F>v?T().style.width=`${F}px`:St(T(),"width",u.width)};new MutationObserver(R).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};let Lo=(c,u)=>{let p=Li();p&&(Me(p),Ze(p,u,"htmlContainer"),u.html?(xt(u.html,p),Se(p,"block")):u.text?(p.textContent=u.text,Se(p,"block")):Ve(p),uu(c,u))},Bo=(c,u)=>{let p=Ao();p&&(Me(p),Bt(p,u.footer,"block"),u.footer&&xt(u.footer,p),Ze(p,u,"footer"))},lu=(c,u)=>{let p=ae.innerParams.get(c),v=E();if(v){if(p&&u.icon===p.icon){Ut(v,u),Xn(v,u);return}if(!u.icon&&!u.iconHtml){Ve(v);return}if(u.icon&&Object.keys(V).indexOf(u.icon)===-1){Z(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),Ve(v);return}Se(v),Ut(v,u),Xn(v,u),ee(v,u.showClass&&u.showClass.icon)}},Xn=(c,u)=>{for(let[p,v]of Object.entries(V))u.icon!==p&&dt(c,v);ee(c,u.icon&&V[u.icon]),Qi(c,u),Uo(),Ze(c,u,"icon")},Uo=()=>{let c=T();if(!c)return;let u=window.getComputedStyle(c).getPropertyValue("background-color"),p=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let v=0;v<p.length;v++)p[v].style.backgroundColor=u},Wi=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Zn=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ut=(c,u)=>{if(!u.icon&&!u.iconHtml)return;let p=c.innerHTML,v="";u.iconHtml?v=jo(u.iconHtml):u.icon==="success"?(v=Wi,p=p.replace(/ style=".*?"/g,"")):u.icon==="error"?v=Zn:u.icon&&(v=jo({question:"?",warning:"!",info:"i"}[u.icon])),p.trim()!==v.trim()&&We(c,v)},Qi=(c,u)=>{if(u.iconColor){c.style.color=u.iconColor,c.style.borderColor=u.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ze(c,p,"background-color",u.iconColor);ze(c,".swal2-success-ring","border-color",u.iconColor)}},jo=c=>`<div class="${y["icon-content"]}">${c}</div>`,$o=(c,u)=>{let p=_n();if(p){if(!u.imageUrl){Ve(p);return}Se(p,""),p.setAttribute("src",u.imageUrl),p.setAttribute("alt",u.imageAlt||""),St(p,"width",u.imageWidth),St(p,"height",u.imageHeight),p.className=y.image,Ze(p,u,"image")}},qo=(c,u)=>{let p=b(),v=T();if(!(!p||!v)){if(u.toast){St(p,"width",u.width),v.style.width="100%";let R=In();R&&v.insertBefore(R,E())}else St(v,"width",u.width);St(v,"padding",u.padding),u.color&&(v.style.color=u.color),u.background&&(v.style.background=u.background),Ve(bn()),zo(v,u)}},zo=(c,u)=>{let p=u.showClass||{};c.className=`${y.popup} ${Qe(c)?p.popup:""}`,u.toast?(ee([document.documentElement,document.body],y["toast-shown"]),ee(c,y.toast)):ee(c,y.modal),Ze(c,u,"popup"),typeof u.customClass=="string"&&ee(c,u.customClass),u.icon&&ee(c,y[`icon-${u.icon}`])},Yi=(c,u)=>{let p=tn();if(!p)return;let{progressSteps:v,currentProgressStep:R}=u;if(!v||v.length===0||R===void 0){Ve(p);return}Se(p),p.textContent="",R>=v.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),v.forEach((F,X)=>{let fe=Ji(F);if(p.appendChild(fe),X===R&&ee(fe,y["active-progress-step"]),X!==v.length-1){let Te=Go(u);p.appendChild(Te)}})},Ji=c=>{let u=document.createElement("li");return ee(u,y["progress-step"]),We(u,c),u},Go=c=>{let u=document.createElement("li");return ee(u,y["progress-step-line"]),c.progressStepsDistance&&St(u,"width",c.progressStepsDistance),u},Ho=(c,u)=>{let p=wn();p&&(Me(p),Bt(p,u.title||u.titleText,"block"),u.title&&xt(u.title,p),u.titleText&&(p.innerText=u.titleText),Ze(p,u,"title"))},Ko=(c,u)=>{qo(c,u),Yn(c,u),Yi(c,u),lu(c,u),$o(c,u),Ho(c,u),No(c,u),Lo(c,u),ko(c,u),Bo(c,u);let p=T();typeof u.didRender=="function"&&p&&u.didRender(p),a.eventEmitter.emit("didRender",p)},hu=()=>Qe(T()),Xi=()=>{var c;return(c=lt())===null||c===void 0?void 0:c.click()},Wo=()=>{var c;return(c=Xe())===null||c===void 0?void 0:c.click()},du=()=>{var c;return(c=En())===null||c===void 0?void 0:c.click()},st=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yt=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Ar=(c,u,p)=>{yt(c),u.toast||(c.keydownHandler=v=>Sr(u,v,p),c.keydownTarget=u.keydownListenerCapture?window:T(),c.keydownListenerCapture=u.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Dn=(c,u)=>{var p;let v=Cn();if(v.length){c=c+u,c===v.length?c=0:c===-1&&(c=v.length-1),v[c].focus();return}(p=T())===null||p===void 0||p.focus()},Zi=["ArrowRight","ArrowDown"],ye=["ArrowLeft","ArrowUp"],Sr=(c,u,p)=>{c&&(u.isComposing||u.keyCode===229||(c.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?er(u,c):u.key==="Tab"?tr(u):[...Zi,...ye].includes(u.key)?fu(u.key):u.key==="Escape"&&Qo(u,c,p)))},er=(c,u)=>{if(!Ke(u.allowEnterKey))return;let p=br(T(),u.input);if(c.target&&p&&c.target instanceof HTMLElement&&c.target.outerHTML===p.outerHTML){if(["textarea","file"].includes(u.input))return;Xi(),c.preventDefault()}},tr=c=>{let u=c.target,p=Cn(),v=-1;for(let R=0;R<p.length;R++)if(u===p[R]){v=R;break}c.shiftKey?Dn(v,-1):Dn(v,1),c.stopPropagation(),c.preventDefault()},fu=c=>{let u=At(),p=lt(),v=Xe(),R=En();if(!u||!p||!v||!R)return;let F=[p,v,R];if(document.activeElement instanceof HTMLElement&&!F.includes(document.activeElement))return;let X=Zi.includes(c)?"nextElementSibling":"previousElementSibling",fe=document.activeElement;if(fe){for(let Te=0;Te<u.children.length;Te++){if(fe=fe[X],!fe)return;if(fe instanceof HTMLButtonElement&&Qe(fe))break}fe instanceof HTMLButtonElement&&fe.focus()}},Qo=(c,u,p)=>{Ke(u.allowEscapeKey)&&(c.preventDefault(),p(st.esc))};var Pn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let pu=()=>{let c=b();Array.from(document.body.children).forEach(p=>{p.contains(c)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},Yo=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},Jo=typeof window<"u"&&!!window.GestureEvent,nr=()=>{if(Jo&&!ht(document.body,y.iosfix)){let c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,ee(document.body,y.iosfix),jt()}},jt=()=>{let c=b();if(!c)return;let u;c.ontouchstart=p=>{u=Xo(p)},c.ontouchmove=p=>{u&&(p.preventDefault(),p.stopPropagation())}},Xo=c=>{let u=c.target,p=b(),v=Li();return!p||!v||Zo(c)||ea(c)?!1:u===p||!xo(p)&&u instanceof HTMLElement&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(xo(v)&&v.contains(u))},Zo=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",ea=c=>c.touches&&c.touches.length>1,Vn=()=>{if(ht(document.body,y.iosfix)){let c=parseInt(document.body.style.top,10);dt(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},mu=()=>{let c=document.createElement("div");c.className=y["scrollbar-measure"],document.body.appendChild(c);let u=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),u},Mn=null,gu=c=>{Mn===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(Mn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Mn+mu()}px`)},$t=()=>{Mn!==null&&(document.body.style.paddingRight=`${Mn}px`,Mn=null)};function ta(c,u,p,v){An()?Ee(c,v):(d(p).then(()=>Ee(c,v)),yt(a)),Jo?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),Tn()&&($t(),Vn(),Yo()),yu()}function yu(){dt([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}function ot(c){c=rr(c);let u=Pn.swalPromiseResolve.get(this),p=Rr(this);this.isAwaitingPromise?c.isDismissed||(Dt(this),u(c)):p&&u(c)}let Rr=c=>{let u=T();if(!u)return!1;let p=ae.innerParams.get(c);if(!p||ht(u,p.hideClass.popup))return!1;dt(u,p.showClass.popup),ee(u,p.hideClass.popup);let v=b();return dt(v,p.showClass.backdrop),ee(v,p.hideClass.backdrop),na(c,u,p),!0};function es(c){let u=Pn.swalPromiseReject.get(this);Dt(this),u&&u(c)}let Dt=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,ae.innerParams.get(c)||c._destroy())},rr=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),na=(c,u,p)=>{let v=b(),R=Sn(u);typeof p.willClose=="function"&&p.willClose(u),a.eventEmitter.emit("willClose",u),R?ts(c,u,v,p.returnFocus,p.didClose):ta(c,v,p.returnFocus,p.didClose)},ts=(c,u,p,v,R)=>{a.swalCloseEventFinishedCallback=ta.bind(null,c,p,v,R);let F=function(X){X.target===u&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback,u.removeEventListener("animationend",F),u.removeEventListener("transitionend",F))};u.addEventListener("animationend",F),u.addEventListener("transitionend",F)},Ee=(c,u)=>{setTimeout(()=>{typeof u=="function"&&u.bind(c.params)(),a.eventEmitter.emit("didClose"),c._destroy&&c._destroy()})},kn=c=>{let u=T();if(u||new ya,u=T(),!u)return;let p=In();An()?Ve(E()):vu(u,c),Se(p),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},vu=(c,u)=>{let p=At(),v=In();!p||!v||(!u&&Qe(lt())&&(u=lt()),Se(p),u&&(Ve(u),v.setAttribute("data-button-to-replace",u.className),p.insertBefore(v,u)),ee([c,p],y.loading))},ra=(c,u)=>{u.input==="select"||u.input==="radio"?Pt(c,u):["text","email","number","tel","textarea"].some(p=>p===u.input)&&(me(u.inputValue)||_(u.inputValue))&&(kn(lt()),aa(c,u))},ia=(c,u)=>{let p=c.getInput();if(!p)return null;switch(u.input){case"checkbox":return sa(p);case"radio":return xr(p);case"file":return oa(p);default:return u.inputAutoTrim?p.value.trim():p.value}},sa=c=>c.checked?1:0,xr=c=>c.checked?c.value:null,oa=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,Pt=(c,u)=>{let p=T();if(!p)return;let v=R=>{u.input==="select"?wu(p,sr(R),u):u.input==="radio"&&ir(p,sr(R),u)};me(u.inputOptions)||_(u.inputOptions)?(kn(lt()),A(u.inputOptions).then(R=>{c.hideLoading(),v(R)})):typeof u.inputOptions=="object"?v(u.inputOptions):Z(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},aa=(c,u)=>{let p=c.getInput();p&&(Ve(p),A(u.inputValue).then(v=>{p.value=u.input==="number"?`${parseFloat(v)||0}`:`${v}`,Se(p),p.focus(),c.hideLoading()}).catch(v=>{Z(`Error in inputValue promise: ${v}`),p.value="",Se(p),p.focus(),c.hideLoading()}))};function wu(c,u,p){let v=Lt(c,y.select);if(!v)return;let R=(F,X,fe)=>{let Te=document.createElement("option");Te.value=fe,We(Te,X),Te.selected=Dr(fe,p.inputValue),F.appendChild(Te)};u.forEach(F=>{let X=F[0],fe=F[1];if(Array.isArray(fe)){let Te=document.createElement("optgroup");Te.label=X,Te.disabled=!1,v.appendChild(Te),fe.forEach(kr=>R(Te,kr[1],kr[0]))}else R(v,fe,X)}),v.focus()}function ir(c,u,p){let v=Lt(c,y.radio);if(!v)return;u.forEach(F=>{let X=F[0],fe=F[1],Te=document.createElement("input"),kr=document.createElement("label");Te.type="radio",Te.name=y.radio,Te.value=X,Dr(X,p.inputValue)&&(Te.checked=!0);let bu=document.createElement("span");We(bu,fe),bu.className=y.label,kr.appendChild(Te),kr.appendChild(bu),v.appendChild(kr)});let R=v.querySelectorAll("input");R.length&&R[0].focus()}let sr=c=>{let u=[];return c instanceof Map?c.forEach((p,v)=>{let R=p;typeof R=="object"&&(R=sr(R)),u.push([v,R])}):Object.keys(c).forEach(p=>{let v=c[p];typeof v=="object"&&(v=sr(v)),u.push([p,v])}),u},Dr=(c,u)=>!!u&&u.toString()===c.toString(),Pr=c=>{let u=ae.innerParams.get(c);c.disableButtons(),u.input?ua(c,"confirm"):or(c,!0)},ca=c=>{let u=ae.innerParams.get(c);c.disableButtons(),u.returnInputValueOnDeny?ua(c,"deny"):nn(c,!1)},Vr=(c,u)=>{c.disableButtons(),u(st.cancel)},ua=(c,u)=>{let p=ae.innerParams.get(c);if(!p.input){Z(`The "input" parameter is needed to be set when using returnInputValueOn${j(u)}`);return}let v=c.getInput(),R=ia(c,p);p.inputValidator?la(c,R,u):v&&!v.checkValidity()?(c.enableButtons(),c.showValidationMessage(p.validationMessage||v.validationMessage)):u==="deny"?nn(c,R):or(c,R)},la=(c,u,p)=>{let v=ae.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>A(v.inputValidator(u,v.validationMessage))).then(F=>{c.enableButtons(),c.enableInput(),F?c.showValidationMessage(F):p==="deny"?nn(c,u):or(c,u)})},nn=(c,u)=>{let p=ae.innerParams.get(c||void 0);p.showLoaderOnDeny&&kn(Xe()),p.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preDeny(u,p.validationMessage))).then(R=>{R===!1?(c.hideLoading(),Dt(c)):c.close({isDenied:!0,value:typeof R>"u"?u:R})}).catch(R=>rs(c||void 0,R))):c.close({isDenied:!0,value:u})},ns=(c,u)=>{c.close({isConfirmed:!0,value:u})},rs=(c,u)=>{c.rejectPromise(u)},or=(c,u)=>{let p=ae.innerParams.get(c||void 0);p.showLoaderOnConfirm&&kn(),p.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preConfirm(u,p.validationMessage))).then(R=>{Qe(bn())||R===!1?(c.hideLoading(),Dt(c)):ns(c,typeof R>"u"?u:R)}).catch(R=>rs(c||void 0,R))):ns(c,u)};function On(){let c=ae.innerParams.get(this);if(!c)return;let u=ae.domCache.get(this);Ve(u.loader),An()?c.icon&&Se(E()):ha(u),dt([u.popup,u.actions],y.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let ha=c=>{let u=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));u.length?Se(u[0],"inline-block"):Ro()&&Ve(c.actions)};function ar(){let c=ae.innerParams.get(this),u=ae.domCache.get(this);return u?br(u.popup,c.input):null}function is(c,u,p){let v=ae.domCache.get(c);u.forEach(R=>{v[R].disabled=p})}function ss(c,u){let p=T();if(!(!p||!c))if(c.type==="radio"){let v=p.querySelectorAll(`[name="${y.radio}"]`);for(let R=0;R<v.length;R++)v[R].disabled=u}else c.disabled=u}function qt(){is(this,["confirmButton","denyButton","cancelButton"],!1)}function os(){is(this,["confirmButton","denyButton","cancelButton"],!0)}function as(){ss(this.getInput(),!1)}function cs(){ss(this.getInput(),!0)}function us(c){let u=ae.domCache.get(this),p=ae.innerParams.get(this);We(u.validationMessage,c),u.validationMessage.className=y["validation-message"],p.customClass&&p.customClass.validationMessage&&ee(u.validationMessage,p.customClass.validationMessage),Se(u.validationMessage);let v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",y["validation-message"]),ji(v),ee(v,y.inputerror))}function cr(){let c=ae.domCache.get(this);c.validationMessage&&Ve(c.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),dt(u,y.inputerror))}let ke={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},da=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],fa={allowEnterKey:void 0},Nn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],o=c=>Object.prototype.hasOwnProperty.call(ke,c),l=c=>da.indexOf(c)!==-1,f=c=>fa[c],g=c=>{o(c)||M(`Unknown parameter "${c}"`)},S=c=>{Nn.includes(c)&&M(`The parameter "${c}" is incompatible with toasts`)},x=c=>{let u=f(c);u&&_e(c,u)},k=c=>{c.backdrop===!1&&c.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let u in c)g(u),c.toast&&S(u),x(u)};function de(c){let u=T(),p=ae.innerParams.get(this);if(!u||ht(u,p.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let v=Be(c),R=Object.assign({},p,v);Ko(this,R),ae.innerParams.set(this,R),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}let Be=c=>{let u={};return Object.keys(c).forEach(p=>{l(p)?u[p]=c[p]:M(`Invalid parameter to update: ${p}`)}),u};function te(){let c=ae.domCache.get(this),u=ae.innerParams.get(this);if(!u){Ue(this);return}c.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),a.eventEmitter.emit("didDestroy"),Ge(this)}let Ge=c=>{Ue(c),delete c.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},Ue=c=>{c.isAwaitingPromise?(zt(ae,c),c.isAwaitingPromise=!0):(zt(Pn,c),zt(ae,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},zt=(c,u)=>{for(let p in c)c[p].delete(u)};var ft=Object.freeze({__proto__:null,_destroy:te,close:ot,closeModal:ot,closePopup:ot,closeToast:ot,disableButtons:os,disableInput:cs,disableLoading:On,enableButtons:qt,enableInput:as,getInput:ar,handleAwaitingPromise:Dt,hideLoading:On,rejectPromise:es,resetValidationMessage:cr,showValidationMessage:us,update:de});let Mr=(c,u,p)=>{c.toast?ls(c,u,p):(Sy(u),Ry(u),xy(c,u,p))},ls=(c,u,p)=>{u.popup.onclick=()=>{c&&(Ay(c)||c.timer||c.input)||p(st.close)}},Ay=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton),pa=!1,Sy=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(u){c.container.onmouseup=()=>{},u.target===c.container&&(pa=!0)}}},Ry=c=>{c.container.onmousedown=u=>{u.target===c.container&&u.preventDefault(),c.popup.onmouseup=function(p){c.popup.onmouseup=()=>{},(p.target===c.popup||p.target instanceof HTMLElement&&c.popup.contains(p.target))&&(pa=!0)}}},xy=(c,u,p)=>{u.container.onclick=v=>{if(pa){pa=!1;return}v.target===u.container&&Ke(c.allowOutsideClick)&&p(st.backdrop)}},Dy=c=>typeof c=="object"&&c.jquery,df=c=>c instanceof Element||Dy(c),Py=c=>{let u={};return typeof c[0]=="object"&&!df(c[0])?Object.assign(u,c[0]):["title","html","icon"].forEach((p,v)=>{let R=c[v];typeof R=="string"||df(R)?u[p]=R:R!==void 0&&Z(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof R}`)}),u};function Vy(){for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];return new this(...u)}function My(c){class u extends this{_main(v,R){return super._main(v,Object.assign({},c,R))}}return u}let ky=()=>a.timeout&&a.timeout.getTimerLeft(),ff=()=>{if(a.timeout)return Do(),a.timeout.stop()},pf=()=>{if(a.timeout){let c=a.timeout.start();return Er(c),c}},Oy=()=>{let c=a.timeout;return c&&(c.running?ff():pf())},Ny=c=>{if(a.timeout){let u=a.timeout.increase(c);return Er(u,!0),u}},Fy=()=>!!(a.timeout&&a.timeout.isRunning()),mf=!1,_u={};function Ly(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";_u[c]=this,mf||(document.body.addEventListener("click",By),mf=!0)}let By=c=>{for(let u=c.target;u&&u!==document;u=u.parentNode)for(let p in _u){let v=u.getAttribute(p);if(v){_u[p].fire({template:v});return}}};class Uy{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,p){let v=this._getHandlersByEventName(u);v.includes(p)||v.push(p)}once(u,p){var v=this;let R=function(){v.removeListener(u,R);for(var F=arguments.length,X=new Array(F),fe=0;fe<F;fe++)X[fe]=arguments[fe];p.apply(v,X)};this.on(u,R)}emit(u){for(var p=arguments.length,v=new Array(p>1?p-1:0),R=1;R<p;R++)v[R-1]=arguments[R];this._getHandlersByEventName(u).forEach(F=>{try{F.apply(this,v)}catch(X){console.error(X)}})}removeListener(u,p){let v=this._getHandlersByEventName(u),R=v.indexOf(p);R>-1&&v.splice(R,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}a.eventEmitter=new Uy;var jy=Object.freeze({__proto__:null,argsToParams:Py,bindClickHandler:Ly,clickCancel:du,clickConfirm:Xi,clickDeny:Wo,enableLoading:kn,fire:Vy,getActions:At,getCancelButton:En,getCloseButton:Bi,getConfirmButton:lt,getContainer:b,getDenyButton:Xe,getFocusableElements:Cn,getFooter:Ao,getHtmlContainer:Li,getIcon:E,getIconContent:Tt,getImage:_n,getInputLabel:qe,getLoader:In,getPopup:T,getProgressSteps:tn,getTimerLeft:ky,getTimerProgressBar:Ft,getTitle:wn,getValidationMessage:bn,increaseTimer:Ny,isDeprecatedParameter:f,isLoading:Ui,isTimerRunning:Fy,isUpdatableParameter:l,isValidParameter:o,isVisible:hu,mixin:My,off:(c,u)=>{if(!c){a.eventEmitter.reset();return}u?a.eventEmitter.removeListener(c,u):a.eventEmitter.removeAllListeners(c)},on:(c,u)=>{a.eventEmitter.on(c,u)},once:(c,u)=>{a.eventEmitter.once(c,u)},resumeTimer:pf,showLoading:kn,stopTimer:ff,toggleTimer:Oy});class $y{constructor(u,p){this.callback=u,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let p=this.running;return p&&this.stop(),this.remaining+=u,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let gf=["swal-title","swal-html","swal-footer"],qy=c=>{let u=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!u)return{};let p=u.content;return Jy(p),Object.assign(zy(p),Gy(p),Hy(p),Ky(p),Wy(p),Qy(p),Yy(p,gf))},zy=c=>{let u={};return Array.from(c.querySelectorAll("swal-param")).forEach(v=>{ur(v,["name","value"]);let R=v.getAttribute("name"),F=v.getAttribute("value");!R||!F||(typeof ke[R]=="boolean"?u[R]=F!=="false":typeof ke[R]=="object"?u[R]=JSON.parse(F):u[R]=F)}),u},Gy=c=>{let u={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(v=>{let R=v.getAttribute("name"),F=v.getAttribute("value");!R||!F||(u[R]=new Function(`return ${F}`)())}),u},Hy=c=>{let u={};return Array.from(c.querySelectorAll("swal-button")).forEach(v=>{ur(v,["type","color","aria-label"]);let R=v.getAttribute("type");!R||!["confirm","cancel","deny"].includes(R)||(u[`${R}ButtonText`]=v.innerHTML,u[`show${j(R)}Button`]=!0,v.hasAttribute("color")&&(u[`${R}ButtonColor`]=v.getAttribute("color")),v.hasAttribute("aria-label")&&(u[`${R}ButtonAriaLabel`]=v.getAttribute("aria-label")))}),u},Ky=c=>{let u={},p=c.querySelector("swal-image");return p&&(ur(p,["src","width","height","alt"]),p.hasAttribute("src")&&(u.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(u.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(u.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(u.imageAlt=p.getAttribute("alt")||void 0)),u},Wy=c=>{let u={},p=c.querySelector("swal-icon");return p&&(ur(p,["type","color"]),p.hasAttribute("type")&&(u.icon=p.getAttribute("type")),p.hasAttribute("color")&&(u.iconColor=p.getAttribute("color")),u.iconHtml=p.innerHTML),u},Qy=c=>{let u={},p=c.querySelector("swal-input");p&&(ur(p,["type","label","placeholder","value"]),u.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(u.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(u.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(u.inputValue=p.getAttribute("value")));let v=Array.from(c.querySelectorAll("swal-input-option"));return v.length&&(u.inputOptions={},v.forEach(R=>{ur(R,["value"]);let F=R.getAttribute("value");if(!F)return;let X=R.innerHTML;u.inputOptions[F]=X})),u},Yy=(c,u)=>{let p={};for(let v in u){let R=u[v],F=c.querySelector(R);F&&(ur(F,[]),p[R.replace(/^swal-/,"")]=F.innerHTML.trim())}return p},Jy=c=>{let u=gf.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(p=>{let v=p.tagName.toLowerCase();u.includes(v)||M(`Unrecognized element <${v}>`)})},ur=(c,u)=>{Array.from(c.attributes).forEach(p=>{u.indexOf(p.name)===-1&&M([`Unrecognized attribute "${p.name}" on <${c.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},yf=10,Xy=c=>{let u=b(),p=T();typeof c.willOpen=="function"&&c.willOpen(p),a.eventEmitter.emit("willOpen",p);let R=window.getComputedStyle(document.body).overflowY;tv(u,p,c),setTimeout(()=>{Zy(u,p)},yf),Tn()&&(ev(u,c.scrollbarPadding,R),pu()),!An()&&!a.previousActiveElement&&(a.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(p)),a.eventEmitter.emit("didOpen",p),dt(u,y["no-transition"])},ma=c=>{let u=T();if(c.target!==u)return;let p=b();u.removeEventListener("animationend",ma),u.removeEventListener("transitionend",ma),p.style.overflowY="auto"},Zy=(c,u)=>{Sn(u)?(c.style.overflowY="hidden",u.addEventListener("animationend",ma),u.addEventListener("transitionend",ma)):c.style.overflowY="auto"},ev=(c,u,p)=>{nr(),u&&p!=="hidden"&&gu(p),setTimeout(()=>{c.scrollTop=0})},tv=(c,u,p)=>{ee(c,p.showClass.backdrop),p.animation?(u.style.setProperty("opacity","0","important"),Se(u,"grid"),setTimeout(()=>{ee(u,p.showClass.popup),u.style.removeProperty("opacity")},yf)):Se(u,"grid"),ee([document.documentElement,document.body],y.shown),p.heightAuto&&p.backdrop&&!p.toast&&ee([document.documentElement,document.body],y["height-auto"])};var vf={email:(c,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(c,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function nv(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=vf.email),c.input==="url"&&(c.inputValidator=vf.url))}function rv(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),c.target="body")}function iv(c){nv(c),c.showLoaderOnConfirm&&!c.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),rv(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),Gi(c)}let Gt;var ga=new WeakMap;class xe{constructor(){if(r(this,ga,void 0),typeof window>"u")return;Gt=this;for(var u=arguments.length,p=new Array(u),v=0;v<u;v++)p[v]=arguments[v];let R=Object.freeze(this.constructor.argsToParams(p));this.params=R,this.isAwaitingPromise=!1,i(ga,this,this._main(Gt.params))}_main(u){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(Object.assign({},p,u)),a.currentInstance){let F=Pn.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:X}=a.currentInstance;a.currentInstance._destroy(),X||F({isDismissed:!0}),Tn()&&Yo()}a.currentInstance=Gt;let v=ov(u,p);iv(v),Object.freeze(v),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);let R=av(Gt);return Ko(Gt,v),ae.innerParams.set(Gt,v),sv(Gt,R,v)}then(u){return t(ga,this).then(u)}finally(u){return t(ga,this).finally(u)}}let sv=(c,u,p)=>new Promise((v,R)=>{let F=X=>{c.close({isDismissed:!0,dismiss:X})};Pn.swalPromiseResolve.set(c,v),Pn.swalPromiseReject.set(c,R),u.confirmButton.onclick=()=>{Pr(c)},u.denyButton.onclick=()=>{ca(c)},u.cancelButton.onclick=()=>{Vr(c,F)},u.closeButton.onclick=()=>{F(st.close)},Mr(p,u,F),Ar(a,p,F),ra(c,p),Xy(p),cv(a,p,F),uv(u,p),setTimeout(()=>{u.container.scrollTop=0})}),ov=(c,u)=>{let p=qy(c),v=Object.assign({},ke,u,p,c);return v.showClass=Object.assign({},ke.showClass,v.showClass),v.hideClass=Object.assign({},ke.hideClass,v.hideClass),v.animation===!1&&(v.showClass={backdrop:"swal2-noanimation"},v.hideClass={}),v},av=c=>{let u={popup:T(),container:b(),actions:At(),confirmButton:lt(),denyButton:Xe(),cancelButton:En(),loader:In(),closeButton:Bi(),validationMessage:bn(),progressSteps:tn()};return ae.domCache.set(c,u),u},cv=(c,u,p)=>{let v=Ft();Ve(v),u.timer&&(c.timeout=new $y(()=>{p("timer"),delete c.timeout},u.timer),u.timerProgressBar&&(Se(v),Ze(v,u,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&Er(u.timer)})))},uv=(c,u)=>{if(!u.toast){if(!Ke(u.allowEnterKey)){_e("allowEnterKey"),dv();return}lv(c)||hv(c,u)||Dn(-1,1)}},lv=c=>{let u=c.popup.querySelectorAll("[autofocus]");for(let p of u)if(p instanceof HTMLElement&&Qe(p))return p.focus(),!0;return!1},hv=(c,u)=>u.focusDeny&&Qe(c.denyButton)?(c.denyButton.focus(),!0):u.focusCancel&&Qe(c.cancelButton)?(c.cancelButton.focus(),!0):u.focusConfirm&&Qe(c.confirmButton)?(c.confirmButton.focus(),!0):!1,dv=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let c=new Date,u=localStorage.getItem("swal-initiation");u?(c.getTime()-Date.parse(u))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${c}`)}xe.prototype.disableButtons=os,xe.prototype.enableButtons=qt,xe.prototype.getInput=ar,xe.prototype.disableInput=cs,xe.prototype.enableInput=as,xe.prototype.hideLoading=On,xe.prototype.disableLoading=On,xe.prototype.showValidationMessage=us,xe.prototype.resetValidationMessage=cr,xe.prototype.close=ot,xe.prototype.closePopup=ot,xe.prototype.closeModal=ot,xe.prototype.closeToast=ot,xe.prototype.rejectPromise=es,xe.prototype.update=de,xe.prototype._destroy=te,Object.assign(xe,jy),Object.keys(ft).forEach(c=>{xe[c]=function(){return Gt&&Gt[c]?Gt[c](...arguments):null}}),xe.DismissReason=st,xe.version="11.14.3";let ya=xe;return ya.default=ya,ya});typeof Wt<"u"&&Wt.Sweetalert2&&(Wt.swal=Wt.sweetAlert=Wt.Swal=Wt.SweetAlert=Wt.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var qu=class extends Zf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zu=class n extends qu{static makeCurrent(){Xf(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=yv();return t==null?null:vv(t)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ep(document.cookie,e)}},Ss=null;function yv(){return Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null}function vv(n){return new URL(n,document.baseURI).pathname}var wv=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),Gu=new Re(""),op=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ie(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(De(Gu),De(Bn))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),Pa=class{constructor(e){this._doc=e}},ju="ng-app-id",ap=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uu(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ju}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ju),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(ju,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(De(bt),De(Vu),De(Mu,8),De(vs))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),$u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ku=/%COMP%/g,cp="%COMP%",_v=`_nghost-${cp}`,bv=`_ngcontent-${cp}`,Ev=!0,Iv=new Re("",{providedIn:"root",factory:()=>Ev});function Cv(n){return bv.replace(Ku,n)}function Tv(n){return _v.replace(Ku,n)}function up(n,e){return e.map(t=>t.replace(Ku,n))}var Va=(()=>{class n{constructor(t,r,i,s,a,h,d,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=h,this.ngZone=d,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Uu(h),this.defaultRenderer=new Rs(t,a,d,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ms.ShadowDom&&(r=ve(U({},r),{encapsulation:ms.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ma?i.applyToHost(t):i instanceof xs&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,h=this.ngZone,d=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case ms.Emulated:s=new Ma(d,m,r,this.appId,w,a,h,y);break;case ms.ShadowDom:return new Hu(d,m,t,r,a,h,this.nonce,y);default:s=new xs(d,m,r,w,a,h,y);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(De(op),De(ap),De(Vu),De(Iv),De(bt),De(vs),De(Bn),De(Mu))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),Rs=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($u[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rp(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rp(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ie(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=$u[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$u[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ws.DashCase|ws.Important)?e.style.setProperty(t,r,i&ws.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ws.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function rp(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Hu=class extends Rs{constructor(e,t,r,i,s,a,h,d){super(e,s,a,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=up(i.id,i.styles);for(let w of m){let y=document.createElement("style");h&&y.setAttribute("nonce",h),y.textContent=w,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends Rs{constructor(e,t,r,i,s,a,h,d){super(e,s,a,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=d?up(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ma=class extends xs{constructor(e,t,r,i,s,a,h,d){let m=i+"-"+r.id;super(e,t,r,s,a,h,d,m),this.contentAttr=Cv(m),this.hostAttr=Tv(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Av=(()=>{class n extends Pa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(De(bt))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),ip=["alt","control","meta","shift"],Sv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rv={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xv=(()=>{class n extends Pa{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),a="code."),ip.forEach(m=>{let w=r.indexOf(m);w>-1&&(r.splice(w,1),a+=m+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=i,d.fullKey=a,d}static matchEventFullKeyCode(t,r){let i=Sv[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ip.forEach(a=>{if(a!==i){let h=Rv[a];h(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(De(bt))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})();function lp(n,e){return Jf(U({rootComponent:n},Dv(e)))}function Dv(n){return{appProviders:[...Ov,...n?.providers??[]],platformProviders:kv}}function Pv(){zu.makeCurrent()}function Vv(){return new Pu}function Mv(){return kf(document),document}var kv=[{provide:vs,useValue:tp},{provide:Of,useValue:Pv,multi:!0},{provide:bt,useFactory:Mv,deps:[]}];var Ov=[{provide:Pf,useValue:"root"},{provide:Pu,useFactory:Vv,deps:[]},{provide:Gu,useClass:Av,multi:!0,deps:[bt,Bn,vs]},{provide:Gu,useClass:xv,multi:!0,deps:[bt]},Va,ap,op,{provide:ba,useExisting:Va},{provide:np,useClass:wv,deps:[]},[]];var hp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(De(bt))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var J="primary",Gs=Symbol("RouteTitle"),Xu=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xr(n){return new Xu(n)}function Fv(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],h=n[s];if(a[0]===":")i[a.substring(1)]=h;else if(a!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Lv(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Kt(n[t],e[t]))return!1;return!0}function Kt(n,e){let t=n?Zu(n):void 0,r=e?Zu(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!wp(n[i],e[i]))return!1;return!0}function Zu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function _p(n){return n.length>0?n[n.length-1]:null}function $n(n){return bf(n)?n:xa(n)?at(Promise.resolve(n)):W(n)}var Bv={exact:Ep,subset:Ip},bp={exact:Uv,subset:jv,ignored:()=>!0};function dp(n,e,t){return Bv[t.paths](n.root,e.root,t.matrixParams)&&bp[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Uv(n,e){return Kt(n,e)}function Ep(n,e,t){if(!dr(n.segments,e.segments)||!Na(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Ep(n.children[r],e.children[r],t))return!1;return!0}function jv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wp(n[t],e[t]))}function Ip(n,e,t){return Cp(n,e,e.segments,t)}function Cp(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!dr(i,t)||e.hasChildren()||!Na(i,t,r))}else if(n.segments.length===t.length){if(!dr(n.segments,t)||!Na(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Ip(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!dr(n.segments,i)||!Na(n.segments,i,r)||!n.children[J]?!1:Cp(n.children[J],e,s,r)}}function Na(n,e,t){return e.every((r,i)=>bp[t](n[i].parameters,r.parameters))}var on=class{constructor(e=new pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){return zv.serialize(this)}},pe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fa(this)}},hr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xr(this.parameters),this._parameterMap}toString(){return Ap(this)}};function $v(n,e){return dr(n,e)&&n.every((t,r)=>Kt(t.parameters,e[r].parameters))}function dr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qv(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var Tl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:()=>new Ns,providedIn:"root"})}}return n})(),Ns=class{parse(e){let t=new tl(e);return new on(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ds(e.root,!0)}`,r=Kv(e.queryParams),i=typeof e.fragment=="string"?`#${Gv(e.fragment)}`:"";return`${t}${r}${i}`}},zv=new Ns;function Fa(n){return n.segments.map(e=>Ap(e)).join("/")}function Ds(n,e){if(!n.hasChildren())return Fa(n);if(e){let t=n.children[J]?Ds(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${Ds(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qv(n,(r,i)=>i===J?[Ds(n.children[J],!1)]:[`${i}:${Ds(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${Fa(n)}/${t[0]}`:`${Fa(n)}/(${t.join("//")})`}}function Tp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ka(n){return Tp(n).replace(/%3B/gi,";")}function Gv(n){return encodeURI(n)}function el(n){return Tp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function La(n){return decodeURIComponent(n)}function fp(n){return La(n.replace(/\+/g,"%20"))}function Ap(n){return`${el(n.path)}${Hv(n.parameters)}`}function Hv(n){return Object.entries(n).map(([e,t])=>`;${el(e)}=${el(t)}`).join("")}function Kv(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ka(t)}=${ka(i)}`).join("&"):`${ka(t)}=${ka(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Wv=/^[^\/()?;#]+/;function Wu(n){let e=n.match(Wv);return e?e[0]:""}var Qv=/^[^\/()?;=#]+/;function Yv(n){let e=n.match(Qv);return e?e[0]:""}var Jv=/^[^=?&#]+/;function Xv(n){let e=n.match(Jv);return e?e[0]:""}var Zv=/^[^&#]+/;function ew(n){let e=n.match(Zv);return e?e[0]:""}var tl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new pe(e,t)),r}parseSegment(){let e=Wu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(e),new hr(La(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Yv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Wu(this.remaining);i&&(r=i,this.capture(r))}e[La(t)]=La(r)}parseQueryParam(e){let t=Xv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=ew(this.remaining);a&&(r=a,this.capture(r))}let i=fp(t),s=fp(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wu(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ie(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[J]:new pe([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ie(4011,!1)}};function Sp(n){return n.segments.length>0?new pe([],{[J]:n}):n}function Rp(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Rp(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[a,h]of Object.entries(s.children))e[a]=h;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new pe(n.segments,e);return tw(t)}function tw(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new pe(n.segments.concat(e.segments),e.children)}return n}function fr(n){return n instanceof on}function nw(n,e,t=null,r=null){let i=xp(n);return Dp(i,e,t,r)}function xp(n){let e;function t(s){let a={};for(let d of s.children){let m=t(d);a[d.outlet]=m}let h=new pe(s.url,a);return s===n&&(e=h),h}let r=t(n.root),i=Sp(r);return e??i}function Dp(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Qu(i,i,i,t,r);let s=rw(e);if(s.toRoot())return Qu(i,i,new pe([],{}),t,r);let a=iw(s,i,n),h=a.processChildren?Ms(a.segmentGroup,a.index,s.commands):Vp(a.segmentGroup,a.index,s.commands);return Qu(i,a.segmentGroup,h,t,r)}function Ba(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fs(n){return typeof n=="object"&&n!=null&&n.outlets}function Qu(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([d,m])=>{s[d]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`});let a;n===e?a=t:a=Pp(n,e,t);let h=Sp(Rp(a));return new on(h,s,i)}function Pp(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Pp(s,e,t)}),new pe(n.segments,r)}var Ua=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ba(r[0]))throw new Ie(4003,!1);let i=r.find(Fs);if(i&&i!==_p(r))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rw(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ua(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let h={};return Object.entries(s.outlets).forEach(([d,m])=>{h[d]=typeof m=="string"?m.split("/"):m}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((h,d)=>{d==0&&h==="."||(d==0&&h===""?t=!0:h===".."?e++:h!=""&&i.push(h))}),i):[...i,s]},[]);return new Ua(t,e,r)}var Qr=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function iw(n,e,t){if(n.isAbsolute)return new Qr(e,!0,0);if(!t)return new Qr(e,!1,NaN);if(t.parent===null)return new Qr(t,!0,0);let r=Ba(n.commands[0])?0:1,i=t.segments.length-1+r;return sw(t,i,n.numberOfDoubleDots)}function sw(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ie(4005,!1);i=r.segments.length}return new Qr(r,!1,i-s)}function ow(n){return Fs(n[0])?n[0].outlets:{[J]:n}}function Vp(n,e,t){if(n??=new pe([],{}),n.segments.length===0&&n.hasChildren())return Ms(n,e,t);let r=aw(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new pe(n.segments.slice(0,r.pathIndex),{});return s.children[J]=new pe(n.segments.slice(r.pathIndex),n.children),Ms(s,0,i)}else return r.match&&i.length===0?new pe(n.segments,{}):r.match&&!n.hasChildren()?nl(n,e,t):r.match?Ms(n,0,i):nl(n,e,t)}function Ms(n,e,t){if(t.length===0)return new pe(n.segments,{});{let r=ow(t),i={};if(Object.keys(r).some(s=>s!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let s=Ms(n.children[J],e,t);return new pe(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=Vp(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new pe(n.segments,i)}}function aw(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],h=t[r];if(Fs(h))break;let d=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!mp(d,m,a))return s;r+=2}else{if(!mp(d,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nl(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Fs(s)){let d=cw(s.outlets);return new pe(r,d)}if(i===0&&Ba(t[0])){let d=n.segments[e];r.push(new hr(d.path,pp(t[0]))),i++;continue}let a=Fs(s)?s.outlets[J]:`${s}`,h=i<t.length-1?t[i+1]:null;a&&h&&Ba(h)?(r.push(new hr(a,pp(h))),i+=2):(r.push(new hr(a,{})),i++)}return new pe(r,{})}function cw(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=nl(new pe([],{}),0,r))}),e}function pp(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function mp(n,e,t){return n==t.path&&Kt(e,t.parameters)}var ks="imperative",Ye=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ye||{}),Et=class{constructor(e,t){this.id=e,this.url=t}},Ls=class extends Et{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Et{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(mt||{}),rl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(rl||{}),sn=class extends Et{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pr=class extends Et{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},Bs=class extends Et{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ja=class extends Et{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Et{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends Et{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends Et{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class extends Et{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cl=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ul=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ll=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Us=class{},Zr=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uw(n,e){return n.providers&&!n._injector&&(n._injector=qf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kt(n){return n.outlet||J}function lw(n,e){let t=n.filter(r=>kt(r)===e);return t.push(...n.filter(r=>kt(r)!==e)),t}function Hs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pl=class{get injector(){return Hs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wa(this.rootInjector),this.attachRef=null}},Wa=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(De(_a))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$a=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ml(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ml(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=gl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gl(e,this._root).map(t=>t.value)}};function ml(n,e){if(n===e.value)return e;for(let t of e.children){let r=ml(n,t);if(r)return r}return null}function gl(n,e){if(n===e.value)return[e];for(let t of e.children){let r=gl(n,t);if(r.length)return r.unshift(e),r}return[]}var pt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qa=class extends $a{constructor(e,t){super(e),this.snapshot=t,Al(this,e)}toString(){return this.snapshot.toString()}};function Mp(n){let e=hw(n),t=new wt([new hr("",{})]),r=new wt({}),i=new wt({}),s=new wt({}),a=new wt(""),h=new cn(t,r,s,a,i,J,n,e.root);return h.snapshot=e.root,new qa(new pt(h,[]),e)}function hw(n){let e={},t={},r={},i="",s=new Yr([],e,r,i,t,J,n,null,{});return new Ga("",new pt(s,[]))}var cn=class{constructor(e,t,r,i,s,a,h,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=h,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ge(m=>m[Gs]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>Xr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>Xr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function za(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&Op(i)&&(r.resolve[Gs]=i.title),r}var Yr=class{get title(){return this.data?.[Gs]}constructor(e,t,r,i,s,a,h,d,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=h,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ga=class extends $a{constructor(e,t){super(t),this.url=e,Al(this,t)}toString(){return kp(this._root)}};function Al(n,e){e.value._routerState=n,e.children.forEach(t=>Al(n,t))}function kp(n){let e=n.children.length>0?` { ${n.children.map(kp).join(", ")} } `:"";return`${n.value}${e}`}function Yu(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Kt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Kt(e.params,t.params)||n.paramsSubject.next(t.params),Lv(e.url,t.url)||n.urlSubject.next(t.url),Kt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yl(n,e){let t=Kt(n.params,e.params)&&$v(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||yl(n.parent,e.parent))}function Op(n){return typeof n.title=="string"||n.title===null}var Sl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=K(Wa),this.location=K(Bf),this.changeDetector=K(Cs),this.inputBinder=K(Rl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,d=new vl(t,h,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ct({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]})}}return n})(),vl=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cn?this.route:e===Wa?this.childContexts:this.parent.get(e,t)}},Rl=new Re("");function dw(n,e,t){let r=js(n,e._root,t?t._root:void 0);return new qa(r,e)}function js(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=fw(n,e,t);return new pt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(h=>js(n,h)),a}}let r=pw(e.value),i=e.children.map(s=>js(n,s));return new pt(r,i)}}function fw(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return js(n,r,i);return js(n,r)})}function pw(n){return new cn(new wt(n.url),new wt(n.params),new wt(n.queryParams),new wt(n.fragment),new wt(n.data),n.outlet,n.component,n)}var $s=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Np="ngNavigationCancelingError";function Ha(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=fr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fp(!1,mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Fp(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Np]=!0,t.cancellationCode=e,t}function mw(n){return Lp(n)&&fr(n.url)}function Lp(n){return!!n&&n[Np]}var gw=(n,e,t,r)=>ge(i=>(new wl(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),wl=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wr(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wr(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wr(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wr(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Yu(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(h.contexts),a.attachRef=h.componentRef,a.route=h.route.value,a.outlet&&a.outlet.attach(h.componentRef,h.route.value),Yu(h.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Ka=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jr=class{constructor(e,t){this.component=e,this.route=t}};function yw(n,e,t){let r=n._root,i=e?e._root:null;return Ps(r,i,t,[r.value])}function vw(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ni(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Df(n)?n:e.get(n):r}function Ps(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Wr(e);return n.children.forEach(a=>{ww(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,h])=>Os(h,t.getContext(a),i)),i}function ww(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let d=_w(a,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Ka(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Ps(n,e,h?h.children:null,r,i):Ps(n,e,t,r,i),d&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Jr(h.outlet.component,a))}else a&&Os(e,h,i),i.canActivateChecks.push(new Ka(r)),s.component?Ps(n,null,h?h.children:null,r,i):Ps(n,null,t,r,i);return i}function _w(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!dr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dr(n.url,e.url)||!Kt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yl(n,e)||!Kt(n.queryParams,e.queryParams);case"paramsChange":default:return!yl(n,e)}}function Os(n,e,t){let r=Wr(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?Os(a,e.children.getContext(s),t):Os(a,null,t):Os(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Jr(e.outlet.component,i)):t.canDeactivateChecks.push(new Jr(null,i)):t.canDeactivateChecks.push(new Jr(null,i))}function Ks(n){return typeof n=="function"}function bw(n){return typeof n=="boolean"}function Ew(n){return n&&Ks(n.canLoad)}function Iw(n){return n&&Ks(n.canActivate)}function Cw(n){return n&&Ks(n.canActivateChild)}function Tw(n){return n&&Ks(n.canDeactivate)}function Aw(n){return n&&Ks(n.canMatch)}function Bp(n){return n instanceof Ef||n?.name==="EmptyError"}var Oa=Symbol("INITIAL_VALUE");function ei(){return Ht(n=>Cu(n.map(e=>e.pipe(Fr(1),xf(Oa)))).pipe(ge(e=>{for(let t of e)if(t!==!0){if(t===Oa)return Oa;if(t===!1||Sw(t))return t}return!0}),Or(e=>e!==Oa),Fr(1)))}function Sw(n){return fr(n)||n instanceof $s}function Rw(n,e){return _t(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?W(ve(U({},t),{guardsResult:!0})):xw(a,r,i,n).pipe(_t(h=>h&&bw(h)?Dw(r,s,n,e):W(h)),ge(h=>ve(U({},t),{guardsResult:h})))})}function xw(n,e,t,r){return at(n).pipe(_t(i=>Ow(i.component,i.route,t,e,r)),Ln(i=>i!==!0,!0))}function Dw(n,e,t,r){return at(e).pipe(ds(i=>If(Vw(i.route.parent,r),Pw(i.route,r),kw(n,i.path,t),Mw(n,i.route,t))),Ln(i=>i!==!0,!0))}function Pw(n,e){return n!==null&&e&&e(new dl(n)),W(!0)}function Vw(n,e){return n!==null&&e&&e(new ll(n)),W(!0)}function Mw(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Au(()=>{let a=Hs(e)??t,h=ni(s,a),d=Iw(h)?h.canActivate(e,n):rn(a,()=>h(e,n));return $n(d).pipe(Ln())}));return W(i).pipe(ei())}function kw(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>vw(a)).filter(a=>a!==null).map(a=>Au(()=>{let h=a.guards.map(d=>{let m=Hs(a.node)??t,w=ni(d,m),y=Cw(w)?w.canActivateChild(r,n):rn(m,()=>w(r,n));return $n(y).pipe(Ln())});return W(h).pipe(ei())}));return W(s).pipe(ei())}function Ow(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let a=s.map(h=>{let d=Hs(e)??i,m=ni(h,d),w=Tw(m)?m.canDeactivate(n,e,t,r):rn(d,()=>m(n,e,t,r));return $n(w).pipe(Ln())});return W(a).pipe(ei())}function Nw(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(a=>{let h=ni(a,n),d=Ew(h)?h.canLoad(e,t):rn(n,()=>h(e,t));return $n(d)});return W(s).pipe(ei(),Up(r))}function Up(n){return _f(et(e=>{if(typeof e!="boolean")throw Ha(n,e)}),ge(e=>e===!0))}function Fw(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(a=>{let h=ni(a,n),d=Aw(h)?h.canMatch(e,t):rn(n,()=>h(e,t));return $n(d)});return W(s).pipe(ei(),Up(r))}var qs=class{constructor(e){this.segmentGroup=e||null}},zs=class extends Error{constructor(e){super(),this.urlTree=e}};function Kr(n){return hs(new qs(n))}function Lw(n){return hs(new Ie(4e3,!1))}function Bw(n){return hs(Fp(!1,mt.GuardRejected))}var _l=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[J])return Lw(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let h=t,{queryParams:d,fragment:m,routeConfig:w,url:y,outlet:D,params:V,data:N,title:j}=i,M=rn(s,()=>h({params:V,data:N,queryParams:d,fragment:m,routeConfig:w,url:y,outlet:D,title:j}));if(M instanceof on)throw new zs(M);t=M}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new zs(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new on(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let h=s.substring(1);r[i]=t[h]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([h,d])=>{a[h]=this.createSegmentGroup(e,d,r,i)}),new pe(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ie(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},bl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uw(n,e,t,r,i){let s=jp(n,e,t);return s.matched?(r=uw(e,r),Fw(r,e,t,i).pipe(ge(a=>a===!0?s:U({},bl)))):W(s)}function jp(n,e,t){if(e.path==="**")return jw(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},bl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Fv)(t,n,e);if(!i)return U({},bl);let s={};Object.entries(i.posParams??{}).forEach(([h,d])=>{s[h]=d.path});let a=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function jw(n){return{matched:!0,parameters:n.length>0?_p(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function gp(n,e,t,r){return t.length>0&&zw(n,t,r)?{segmentGroup:new pe(e,qw(r,new pe(t,n.children))),slicedSegments:[]}:t.length===0&&Gw(n,t,r)?{segmentGroup:new pe(n.segments,$w(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new pe(n.segments,n.children),slicedSegments:t}}function $w(n,e,t,r){let i={};for(let s of t)if(Qa(n,e,s)&&!r[kt(s)]){let a=new pe([],{});i[kt(s)]=a}return U(U({},r),i)}function qw(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&kt(r)!==J){let i=new pe([],{});t[kt(r)]=i}return t}function zw(n,e,t){return t.some(r=>Qa(n,e,r)&&kt(r)!==J)}function Gw(n,e,t){return t.some(r=>Qa(n,e,r))}function Qa(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Hw(n,e,t){return e.length===0&&!n.children[t]}var El=class{};function Kw(n,e,t,r,i,s,a="emptyOnly"){return new Il(n,e,t,r,i,a,s).recognize()}var Ww=31,Il=class{constructor(e,t,r,i,s,a,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=h,this.applyRedirects=new _l(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=gp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(({children:t,rootSnapshot:r})=>{let i=new pt(r,t),s=new Ga("",i),a=nw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(e){let t=new Yr([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,t).pipe(ge(r=>({children:r,rootSnapshot:t})),Nr(r=>{if(r instanceof zs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ge(a=>a instanceof pt?[a]:[]))}processChildren(e,t,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return at(s).pipe(ds(a=>{let h=r.children[a],d=lw(t,a);return this.processSegmentGroup(e,d,h,a,i)}),Rf((a,h)=>(a.push(...h),a)),Su(null),Sf(),_t(a=>{if(a===null)return Kr(r);let h=$p(a);return Qw(h),W(h)}))}processSegment(e,t,r,i,s,a,h){return at(t).pipe(ds(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,r,i,s,a,h).pipe(Nr(m=>{if(m instanceof qs)return W(null);throw m}))),Ln(d=>!!d),Nr(d=>{if(Bp(d))return Hw(r,i,s)?W(new El):Kr(r);throw d}))}processSegmentAgainstRoute(e,t,r,i,s,a,h,d){return kt(r)!==a&&(a===J||!Qa(i,s,r))?Kr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a,d):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a,d):Kr(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a,h){let{matched:d,parameters:m,consumedSegments:w,positionalParamSegments:y,remainingSegments:D}=jp(t,i,s);if(!d)return Kr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ww&&(this.allowRedirects=!1));let V=new Yr(s,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,yp(i),kt(i),i.component??i._loadedComponent??null,i,vp(i)),N=za(V,h,this.paramsInheritanceStrategy);V.params=Object.freeze(N.params),V.data=Object.freeze(N.data);let j=this.applyRedirects.applyRedirectCommands(w,i.redirectTo,y,V,e);return this.applyRedirects.lineralizeSegments(i,j).pipe(_t(M=>this.processSegment(e,r,t,M.concat(D),a,!1,h)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let h=Uw(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),h.pipe(Ht(d=>d.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ht(({routes:m})=>{let w=r._loadedInjector??e,{parameters:y,consumedSegments:D,remainingSegments:V}=d,N=new Yr(D,y,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,yp(r),kt(r),r.component??r._loadedComponent??null,r,vp(r)),j=za(N,a,this.paramsInheritanceStrategy);N.params=Object.freeze(j.params),N.data=Object.freeze(j.data);let{segmentGroup:M,slicedSegments:Z}=gp(t,D,V,m);if(Z.length===0&&M.hasChildren())return this.processChildren(w,m,M,N).pipe(ge(oe=>new pt(N,oe)));if(m.length===0&&Z.length===0)return W(new pt(N,[]));let le=kt(r)===s;return this.processSegment(w,m,M,Z,le?J:s,!0,N).pipe(ge(oe=>new pt(N,oe instanceof pt?[oe]:[])))}))):Kr(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):Nw(e,t,r,this.urlSerializer).pipe(_t(i=>i?this.configLoader.loadChildren(e,t).pipe(et(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Bw(t))):W({routes:[],injector:e})}};function Qw(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function Yw(n){let e=n.value.routeConfig;return e&&e.path===""}function $p(n){let e=[],t=new Set;for(let r of n){if(!Yw(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=$p(r.children);e.push(new pt(r.value,i))}return e.filter(r=>!t.has(r))}function yp(n){return n.data||{}}function vp(n){return n.resolve||{}}function Jw(n,e,t,r,i,s){return _t(a=>Kw(n,e,t,r,a.extractedUrl,i,s).pipe(ge(({state:h,tree:d})=>ve(U({},a),{targetSnapshot:h,urlAfterRedirects:d}))))}function Xw(n,e){return _t(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=new Set(i.map(d=>d.route)),a=new Set;for(let d of s)if(!a.has(d))for(let m of qp(d))a.add(m);let h=0;return at(a).pipe(ds(d=>s.has(d)?Zw(d,r,n,e):(d.data=za(d,d.parent,n).resolve,W(void 0))),et(()=>h++),Ru(1),_t(d=>h===a.size?W(t):Fn))})}function qp(n){let e=n.children.map(t=>qp(t)).flat();return[n,...e]}function Zw(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Op(i)&&(s[Gs]=i.title),e_(s,n,e,r).pipe(ge(a=>(n._resolvedData=a,n.data=za(n,n.parent,t).resolve,null)))}function e_(n,e,t,r){let i=Zu(n);if(i.length===0)return W({});let s={};return at(i).pipe(_t(a=>t_(n[a],e,t,r).pipe(Ln(),et(h=>{if(h instanceof $s)throw Ha(new Ns,h);s[a]=h}))),Ru(1),Af(s),Nr(a=>Bp(a)?Fn:hs(a)))}function t_(n,e,t,r){let i=Hs(e)??r,s=ni(n,i),a=s.resolve?s.resolve(e,t):rn(i,()=>s(e,t));return $n(a)}function Ju(n){return Ht(e=>{let t=n(e);return t?at(t).pipe(ge(()=>e)):W(e)})}var zp=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[Gs]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:()=>K(n_),providedIn:"root"})}}return n})(),n_=(()=>{class n extends zp{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(De(hp))}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xl=new Re("",{providedIn:"root",factory:()=>({})}),r_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=tt({type:n,selectors:[["ng-component"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[Sl],encapsulation:2})}}return n})();function Dl(n){let e=n.children&&n.children.map(Dl),t=e?ve(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=r_),t}var Pl=new Re(""),i_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(Lu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=$n(t.loadComponent()).pipe(ge(Gp),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),va(()=>{this.componentLoaders.delete(t)})),i=new Iu(r,()=>new vt).pipe(Eu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=s_(r,this.compiler,t,this.onLoadEndListener).pipe(va(()=>{this.childrenLoaders.delete(r)})),a=new Iu(s,()=>new vt).pipe(Eu());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function s_(n,e,t,r){return $n(n.loadChildren()).pipe(ge(Gp),_t(i=>i instanceof $f||Array.isArray(i)?W(i):at(e.compileModuleAsync(i))),ge(i=>{r&&r(n);let s,a,h=!1;return Array.isArray(i)?(a=i,h=!0):(s=i.create(t).injector,a=s.get(Pl,[],{optional:!0,self:!0}).flat()),{routes:a.map(Dl),injector:s}}))}function o_(n){return n&&typeof n=="object"&&"default"in n}function Gp(n){return o_(n)?n.default:n}var Vl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:()=>K(a_),providedIn:"root"})}}return n})(),a_=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c_=new Re("");var u_=new Re(""),l_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=K(i_),this.environmentInjector=K(_a),this.urlSerializer=K(Tl),this.rootContexts=K(Wa),this.location=K(Da),this.inputBindingEnabled=K(Rl,{optional:!0})!==null,this.titleStrategy=K(zp),this.options=K(xl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(Vl),this.createViewTransition=K(c_,{optional:!0}),this.navigationErrorHandler=K(u_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let t=i=>this.events.next(new cl(i)),r=i=>this.events.next(new ul(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ks,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Or(s=>s.id!==0),ge(s=>ve(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ht(s=>{let a=!1,h=!1;return W(s).pipe(Ht(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",mt.SupersededByNewNavigation),Fn;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?ve(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),w=d.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!m&&w!=="reload"){let y="";return this.events.next(new pr(d.id,this.urlSerializer.serialize(d.rawUrl),y,rl.IgnoredSameUrlNavigation)),d.resolve(!1),Fn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return W(d).pipe(Ht(y=>{let D=this.transitions?.getValue();return this.events.next(new Ls(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),D!==this.transitions?.getValue()?Fn:Promise.resolve(y)}),Jw(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),et(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ve(U({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let D=new ja(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(D)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:D,source:V,restoredState:N,extras:j}=d,M=new Ls(y,this.urlSerializer.serialize(D),V,N);this.events.next(M);let Z=Mp(this.rootComponentType).snapshot;return this.currentTransition=s=ve(U({},d),{targetSnapshot:Z,urlAfterRedirects:D,extras:ve(U({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,W(s)}else{let y="";return this.events.next(new pr(d.id,this.urlSerializer.serialize(d.extractedUrl),y,rl.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Fn}}),et(d=>{let m=new il(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),ge(d=>(this.currentTransition=s=ve(U({},d),{guards:yw(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),Rw(this.environmentInjector,d=>this.events.next(d)),et(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Ha(this.urlSerializer,d.guardsResult);let m=new sl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Or(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",mt.GuardRejected),!1)),Ju(d=>{if(d.guards.canActivateChecks.length)return W(d).pipe(et(m=>{let w=new ol(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Ht(m=>{let w=!1;return W(m).pipe(Xw(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(m,"",mt.NoDataFromResolver)}}))}),et(m=>{let w=new al(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),Ju(d=>{let m=w=>{let y=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(w.routeConfig).pipe(et(D=>{w.component=D}),ge(()=>{})));for(let D of w.children)y.push(...m(D));return y};return Cu(m(d.targetSnapshot.root)).pipe(Su(null),Fr(1))}),Ju(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:d,targetSnapshot:m}=s,w=this.createViewTransition?.(this.environmentInjector,d.root,m.root);return w?at(w).pipe(ge(()=>s)):W(s)}),ge(d=>{let m=dw(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=ve(U({},d),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,s}),et(()=>{this.events.next(new Us)}),gw(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Fr(1),et({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),wa(this.transitionAbortSubject.pipe(et(d=>{throw d}))),va(()=>{!a&&!h&&this.cancelNavigationTransition(s,"",mt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(d=>{if(h=!0,Lp(d))this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),mw(d)?this.events.next(new Zr(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let m=new Bs(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let w=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(w instanceof $s){let{message:y,cancellationCode:D}=Ha(this.urlSerializer,w);this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),y,D)),this.events.next(new Zr(w.redirectTo,w.navigationBehaviorOptions))}else{this.events.next(m);let y=t.errorHandler(d);s.resolve(!!y)}}catch(w){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(w)}}return Fn}))}))}cancelNavigationTransition(t,r,i){let s=new sn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h_(n){return n!==ks}var d_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:()=>K(f_),providedIn:"root"})}}return n})(),Cl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},f_=(()=>{class n extends Cl{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ur(n)))(i||n)}})()}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:()=>K(p_),providedIn:"root"})}}return n})(),p_=(()=>{class n extends Hp{constructor(){super(...arguments),this.location=K(Da),this.urlSerializer=K(Tl),this.options=K(xl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(Vl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new on,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Mp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ls)this.stateMemento=this.createStateMemento();else if(t instanceof pr)this.rawUrlTree=r.initialUrl;else if(t instanceof ja){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Us?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof sn&&(t.code===mt.GuardRejected||t.code===mt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Bs?this.restoreHistory(r,!0):t instanceof an&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof on?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,a=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",a)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ur(n)))(i||n)}})()}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vs=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vs||{});function m_(n,e){n.events.pipe(Or(t=>t instanceof an||t instanceof sn||t instanceof Bs||t instanceof pr),ge(t=>t instanceof an||t instanceof pr?Vs.COMPLETE:(t instanceof sn?t.code===mt.Redirect||t.code===mt.SupersededByNewNavigation:!1)?Vs.REDIRECTING:Vs.FAILED),Or(t=>t!==Vs.REDIRECTING),Fr(1)).subscribe(()=>{e()})}function g_(n){throw n}var y_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ri=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(Ra),this.stateManager=K(Hp),this.options=K(xl,{optional:!0})||{},this.pendingTasks=K(Mf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(l_),this.urlSerializer=K(Tl),this.location=K(Da),this.urlHandlingStrategy=K(Vl),this._events=new vt,this.errorHandler=this.options.errorHandler||g_,this.navigated=!1,this.routeReuseStrategy=K(d_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Pl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(Rl,{optional:!0}),this.eventsSubscription=new wf,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof sn&&r.code!==mt.Redirect&&r.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof an)this.navigated=!0;else if(r instanceof Zr){let a=r.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),d=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||h_(i.source)},a);this.scheduleNavigation(h,ks,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}__(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ks,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let d=U({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let h=this.parseUrl(t);this.scheduleNavigation(h,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:h,preserveFragment:d}=r,m=d?this.currentUrlTree.fragment:a,w=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":w=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}w!==null&&(w=this.removeEmptyProps(w));let y;try{let D=i?i.snapshot:this.routerState.snapshot.root;y=xp(D)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),y=this.currentUrlTree.root}return Dp(y,t,w,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=fr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ks,null,r)}navigate(t,r={skipLocationChange:!1}){return w_(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},y_):r===!1?i=U({},v_):i=r,fr(t))return dp(this.currentUrlTree,t,i);let s=this.parseUrl(t);return dp(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let h,d,m;a?(h=a.resolve,d=a.reject,m=a.promise):m=new Promise((y,D)=>{h=y,d=D});let w=this.pendingTasks.add();return m_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w_(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ie(4008,!1)}function __(n){return!(n instanceof Us)&&!(n instanceof Zr)}var ti=(()=>{class n{constructor(t,r,i,s,a,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=h,this.href=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,a){let h=this.urlTree;if(h===null||this.isAnchorElement&&(t!==0||r||i||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(h,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Ff(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:fr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(he(ri),he(cn),Vf("tabindex"),he(qr),he(jr),he(Bu))}}static{this.\u0275dir=ct({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ut("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Ou("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ts],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ts],replaceUrl:[2,"replaceUrl","replaceUrl",Ts],routerLink:"routerLink"},standalone:!0,features:[jf,lr]})}}return n})(),Kp=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Vt,this.routerEventsSubscription=t.events.subscribe(h=>{h instanceof an&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Tu()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=at(t).pipe(Tu()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=b_(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(he(ri),he(jr),he(qr),he(Cs),he(ti,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Kf(s,ti,5),r&2){let a;Aa(a=Sa())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[lr]})}}return n})();function b_(n){return!!n.paths}var E_=new Re("");function Wp(n,...e){return ys([{provide:Pl,multi:!0,useValue:n},[],{provide:cn,useFactory:I_,deps:[ri]},{provide:Qf,multi:!0,useFactory:C_},e.map(t=>t.\u0275providers)])}function I_(n){return n.routerState.root}function C_(){let n=K(Du);return e=>{let t=n.get(Fu);if(e!==t.components[0])return;let r=n.get(ri),i=n.get(T_);n.get(A_)===1&&r.initialNavigation(),n.get(S_,null,xu.Optional)?.setUpPreloading(),n.get(E_,null,xu.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T_=new Re("",{factory:()=>new vt}),A_=new Re("",{providedIn:"root",factory:()=>1});var S_=new Re("");var Jp=pv(Yp());var R_=["audio"],Ya=class n{audioPlayer;audioUrl="https://sp4cew4lk4.net/assets/holupijustpulledupinanewmercedes.mp3";toggleAudio(){let e=this.audioPlayer.nativeElement;e.paused?(e.play(),Jp.default.fire({html:`<center style="max-width:90%"><h1 style="color:red; font-family:'Comic Sans MS';"><blink>HOL UP I JUST PULLED UP INNA NEW MERCEDES!</blink></h1><img src="https://sp4cew4lk4.net/assets/fire.gif"></center>`,background:"url(https://sp4cew4lk4.net/assets/1star.gif)",width:1e3,showConfirmButton:!1,didClose:()=>{e.pause()},customClass:{popup:"popupThing"},buttonsStyling:!1})):e.pause()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=tt({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&Wf(R_,5),t&2){let i;Aa(i=Sa())&&(r.audioPlayer=i.first)}},standalone:!0,features:[nt],decls:11,vars:1,consts:[["audio",""],[1,"home-container"],["id","playButton",3,"click"],["src","click1.gif","alt","click below this"],["src","https://sp4cew4lk4.net/assets/mb-star.gif"],["id","background-audio","loop",""],["type","audio/mpeg",3,"src"]],template:function(t,r){if(t&1){let i=zr();$(0,"div",1)(1,"div",2),ut("click",function(){return Lr(i),Br(r.toggleAudio())}),ne(2,"img",3)(3,"br"),G(4," \u{1F863}"),ne(5,"br")(6,"img",4),q(),$(7,"audio",5,0),ne(9,"source",6),G(10," Your browser does not support the audio element. "),q()()}t&2&&(je(9),Ea("src",r.audioUrl,$r))},styles:[".home-container[_ngcontent-%COMP%]{height:100%;display:grid}#playButton[_ngcontent-%COMP%]{cursor:pointer;margin:auto;border:2px solid white;border-radius:10px;padding:20px}#playButton[_ngcontent-%COMP%]:hover{background-color:#8080804d}"]})};var sm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(he(qr),he(jr))}}static{this.\u0275dir=ct({type:n})}}return n})(),om=(()=>{class n extends sm{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ur(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,features:[Un]})}}return n})(),Fl=new Re(""),x_={provide:Fl,useExisting:fs(()=>Ll),multi:!0},Ll=(()=>{class n extends om{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ur(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ut("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[Is([x_]),Un]})}}return n})(),D_={provide:Fl,useExisting:fs(()=>oc),multi:!0};function P_(){let n=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var V_=new Re(""),oc=(()=>{class n extends sm{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!P_())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(he(qr),he(jr),he(V_,8))}}static{this.\u0275dir=ct({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ut("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Is([D_]),Un]})}}return n})();var am=new Re(""),cm=new Re("");function um(n){return n!=null}function lm(n){return xa(n)?at(n):n}function hm(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function dm(n,e){return e.map(t=>t(n))}function M_(n){return!n.validate}function fm(n){return n.map(e=>M_(e)?e:t=>e.validate(t))}function k_(n){if(!n)return null;let e=n.filter(um);return e.length==0?null:function(t){return hm(dm(t,e))}}function pm(n){return n!=null?k_(fm(n)):null}function O_(n){if(!n)return null;let e=n.filter(um);return e.length==0?null:function(t){let r=dm(t,e).map(lm);return Cf(r).pipe(ge(hm))}}function mm(n){return n!=null?O_(fm(n)):null}function Xp(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gm(n){return n._rawValidators}function ym(n){return n._rawAsyncValidators}function kl(n){return n?Array.isArray(n)?n:[n]:[]}function Xa(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zp(n,e){let t=kl(e);return kl(n).forEach(i=>{Xa(t,i)||t.push(i)}),t}function em(n,e){return kl(e).filter(t=>!Xa(n,t))}var Za=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ai=class extends Za{get formDirective(){return null}get path(){return null}},Xs=class extends Za{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ec=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kC=ve(U({},N_),{"[class.ng-submitted]":"isSubmitted"}),vm=(()=>{class n extends ec{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(he(Xs,2))}}static{this.\u0275dir=ct({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Nu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Un]})}}return n})(),wm=(()=>{class n extends ec{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(he(ai,10))}}static{this.\u0275dir=ct({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Nu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Un]})}}return n})();var Ws="VALID",Ja="INVALID",si="PENDING",Qs="DISABLED",qn=class{},tc=class extends qn{constructor(e,t){super(),this.value=e,this.source=t}},Ys=class extends qn{constructor(e,t){super(),this.pristine=e,this.source=t}},Js=class extends qn{constructor(e,t){super(),this.touched=e,this.source=t}},oi=class extends qn{constructor(e,t){super(),this.status=e,this.source=t}},Ol=class extends qn{constructor(e){super(),this.source=e}},Nl=class extends qn{constructor(e){super(),this.source=e}};function _m(n){return(ac(n)?n.validators:n)||null}function F_(n){return Array.isArray(n)?pm(n):n||null}function bm(n,e){return(ac(e)?e.asyncValidators:n)||null}function L_(n){return Array.isArray(n)?mm(n):n||null}function ac(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function B_(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ie(1e3,"");if(!r[t])throw new Ie(1001,"")}function U_(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ie(1002,"")})}var nc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=As(()=>this.statusReactive()),this.statusReactive=_s(void 0),this._pristine=As(()=>this.pristineReactive()),this.pristineReactive=_s(!0),this._touched=As(()=>this.touchedReactive()),this.touchedReactive=_s(!1),this._events=new vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return jn(this.statusReactive)}set status(e){jn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ws}get invalid(){return this.status===Ja}get pending(){return this.status==si}get disabled(){return this.status===Qs}get enabled(){return this.status!==Qs}get pristine(){return jn(this.pristineReactive)}set pristine(e){jn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return jn(this.touchedReactive)}set touched(e){jn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(em(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(em(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Js(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Js(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ys(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ys(!0,r))}markAsPending(e={}){this.status=si;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this.errors=null,this._forEachChild(i=>{i.disable(ve(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tc(this.value,r)),this._events.next(new oi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ws,this._forEachChild(r=>{r.enable(ve(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ws||this.status===si)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tc(this.value,t)),this._events.next(new oi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qs:Ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=si,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=lm(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oi(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?Qs:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(si)?si:this._anyControlsHaveStatus(Ja)?Ja:Ws}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ys(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Js(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ac(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=F_(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L_(this._rawAsyncValidators)}},rc=class extends nc{constructor(e,t,r){super(_m(t),bm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U_(this,!0,e),Object.keys(e).forEach(r=>{B_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Em=new Re("CallSetDisabledState",{providedIn:"root",factory:()=>Bl}),Bl="always";function j_(n,e){return[...e.path,n]}function tm(n,e,t=Bl){Ul(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),q_(n,e),G_(n,e),z_(n,e),$_(n,e)}function nm(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ic(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $_(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Ul(n,e){let t=gm(n);e.validator!==null?n.setValidators(Xp(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=ym(n);e.asyncValidator!==null?n.setAsyncValidators(Xp(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ic(e._rawValidators,i),ic(e._rawAsyncValidators,i)}function sc(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=gm(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=ym(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return ic(e._rawValidators,r),ic(e._rawAsyncValidators,r),t}function q_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Im(n,e)})}function z_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Im(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Im(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function G_(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function H_(n,e){n==null,Ul(n,e)}function K_(n,e){return sc(n,e)}function W_(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Q_(n){return Object.getPrototypeOf(n.constructor)===om}function Y_(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function J_(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===oc?t=s:Q_(s)?r=s:i=s}),i||r||t||null}function X_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function im(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Qt=class extends nc{constructor(e=null,t,r){super(_m(t),bm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ac(t)&&(t.nonNullable||t.initialValueIsDefault)&&(im(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){im(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Z_=n=>n instanceof Qt;var Cm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Tm=new Re("");var e0={provide:ai,useExisting:fs(()=>jl)},jl=(()=>{class n extends ai{get submitted(){return jn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=As(()=>this._submittedReactive()),this._submittedReactive=_s(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Vt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return tm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nm(t.control||null,t,!1),X_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Y_(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ol(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Nl(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(nm(r||null,t),Z_(i)&&(tm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);H_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&K_(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ul(this.form,this),this._oldForm&&sc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(he(am,10),he(cm,10),he(Em,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ut("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Is([e0]),Un,lr]})}}return n})();var t0={provide:Xs,useExisting:fs(()=>$l)},$l=(()=>{class n extends Xs{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Vt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=J_(this,s)}ngOnChanges(t){this._added||this._setUpControl(),W_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return j_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(he(ai,13),he(am,10),he(cm,10),he(Fl,10),he(Tm,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Is([t0]),Un,lr]})}}return n})();var n0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ps({})}}return n})();var Am=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Em,useValue:t.callSetDisabledState??Bl}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ps({imports:[n0]})}}return n})();var cc=class n{contactForm=new rc({nameControl:new Qt(""),emailControl:new Qt(""),phoneControl:new Qt(""),msgControl:new Qt(""),productionControl:new Qt(""),mixingControl:new Qt(""),otherControl:new Qt(""),bikeControl:new Qt("")});onSubmit(){location.href=`mailto:sp4ce.w4lk.4@gmail.com?subject=Message from ${this.contactForm.value.nameControl}&body=Name: ${this.contactForm.value.nameControl}%0D%0AEmail: ${this.contactForm.value.emailControl}%0D%0APhone: ${this.contactForm.value.phoneControl}%0D%0AMessage: ${this.contactForm.value.msgControl}%0D%0AProduction: ${this.contactForm.value.productionControl}%0D%0AMxing: ${this.contactForm.value.mixingControl}%0D%0AOther: ${this.contactForm.value.otherControl}%0D%0ABike: ${this.contactForm.value.bikeControl}`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=tt({type:n,selectors:[["app-contact"]],standalone:!0,features:[nt],decls:36,vars:1,consts:[[3,"ngSubmit","formGroup"],[1,"text-inputs"],["for","name"],["type","text","id","name","name","name","placeholder","Jonathan Doeington","formControlName","nameControl"],["for","email"],["type","text","id","email","name","email","placeholder","jonathan.doeington@emial.com","formControlName","emailControl"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","123-420-6969","formControlName","phoneControl"],["id","msg-label","for","msg"],["id","msg","name","msg","formControlName","msgControl"],["id","check-label"],[1,"checkboxes"],["type","checkbox","id","production","name","production","value","Production","formControlName","productionControl"],["for","production"],["type","checkbox","id","mixing","name","mixing","value","Mixing","formControlName","mixingControl"],["for","mixing"],["type","checkbox","id","other","name","other","value","Other","formControlName","otherControl"],["for","other"],["type","checkbox","id","bike","name","bike","value","bike","formControlName","bikeControl"],["for","bike"],["type","submit","value","Send it my way homie"]],template:function(t,r){t&1&&($(0,"h1"),G(1,"Contact me I guess"),q(),$(2,"form",0),ut("ngSubmit",function(){return r.onSubmit()}),$(3,"div",1)(4,"label",2),G(5,"Name:"),q(),ne(6,"input",3),$(7,"label",4),G(8,"Email:"),q(),ne(9,"input",5),$(10,"label",6),G(11,"Phone:"),q(),ne(12,"input",7),$(13,"label",8),G(14,"What's up:"),q(),$(15,"textarea",9),G(16,"Hey man, you a cutie, wanna frick"),q()(),$(17,"div",10),G(18,"Reason for inquiry:"),q(),$(19,"div",11),ne(20,"input",12),$(21,"label",13),G(22," Production"),q(),ne(23,"br")(24,"input",14),$(25,"label",15),G(26," Mixing"),q(),ne(27,"br")(28,"input",16),$(29,"label",17),G(30," Other"),q(),ne(31,"br")(32,"input",18),$(33,"label",19),G(34," I have a bike"),q()(),ne(35,"input",20),q()),t&2&&(je(2),Ea("formGroup",r.contactForm))},dependencies:[Am,Cm,oc,Ll,vm,wm,jl,$l],styles:[".checkboxes[_ngcontent-%COMP%]{text-align:left;margin:auto;display:block}form[_ngcontent-%COMP%]{text-align:center;margin:20px auto auto;width:60%;max-width:1000px}.text-inputs[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .text-inputs[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], #msg[_ngcontent-%COMP%]{box-sizing:border-box;margin:10px;display:inline-block;width:80%}.text-inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:10%;text-align:right;vertical-align:top;margin-top:10px}#msg[_ngcontent-%COMP%]{height:100px;vertical-align:top;padding:5px}#msg-label[_ngcontent-%COMP%]{width:15%;margin-left:-5%}input[type=submit][_ngcontent-%COMP%]{margin:10px;padding:10px}@media (min-width:800px){.checkboxes[_ngcontent-%COMP%]{width:20%}}@media (max-width:800px){.text-inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], #check-label[_ngcontent-%COMP%], #msg-label[_ngcontent-%COMP%]{font-size:12px;display:block;width:100%;margin:0;text-align:center}.text-inputs[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .text-inputs[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], #msg[_ngcontent-%COMP%]{display:block;width:100%}}"]})};var uc=class n{text="";textList=["Rsndkf","Rsdjfm","Rmdjfk","Rdjsfn","Rsdfhj"];text1="";textList1=["against me","adainst we","ggainst ma","againsf me"];ngUnsubscribe=new vt;constructor(){}ngOnInit(){this.text=this.textList[0],this.text1=this.textList1[0],Tf(15).pipe(wa(this.ngUnsubscribe)).subscribe(()=>{let e=this.textList.findIndex(s=>s===this.text),t=this.textList1.findIndex(s=>s===this.text1),r=this.textList[e+1],i=this.textList1[t+1];this.text=r||this.textList[0],this.text1=i||this.textList1[0]})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=tt({type:n,selectors:[["app-about"]],standalone:!0,features:[nt],decls:38,vars:1,consts:[[1,"pageContainer"],[1,"grid"],[1,"socials"],["id","profile","src","spacey.gif"],["href","https://www.instagram.com/sp4ce.w4lk.4/","target","_blank"],["id","insta","src","instagram.gif",1,"social"],["href","https://x.com/sp4cew4lk4","target","_blank"],["id","twit","src","twit.gif",1,"social"],["href","https://soundcloud.com/sp4ce-w4lk-4","target","_blank"],["id","sound","src","soundcloud.gif",1,"social"],["href","https://youtube.com/sp4cew4lk","target","_blank"],["id","yt","src","yt.gif",1,"social"],[1,"aboutContainer"],[1,"section"],["data-text","against me",1,"glitch"],[1,"caps"],[2,"width","100px","display","inline-block","text-align","right"],["data-text","stopping oppressive regimes",1,"glitch"],["id","secret","title","check the source code",1,"caps"],[1,"hidden"]],template:function(t,r){t&1&&($(0,"div",0)(1,"div",1)(2,"div",2),ne(3,"img",3),$(4,"a",4),ne(5,"img",5),q(),$(6,"a",6),ne(7,"img",7),q(),$(8,"a",8),ne(9,"img",9),q(),$(10,"a",10),ne(11,"img",11),q()(),$(12,"div",12)(13,"div",13),G(14," hi!!1 ^_^ im spacewalk, but u can call me spacey. im a producer and engineer based in "),ne(15,"span",14),G(16," going on 8 years of experience. I make plugins and do freelance work producing and mixing. i have always felt that something was "),$(17,"div",15),G(18," NOT QUITE RIGHT "),q(),G(19," or that i was a little... erm... different xD. sometimes i feel like i can't trust "),$(20,"div",15),G(21," ANYONE "),q(),G(22," and that they're all plotting "),$(23,"div",16),G(24),q(),G(25," . but it's all just a silly feeling anyways haha! xD "),q(),$(26,"div",13),G(27," some of my other interest include:"),ne(28,"br"),G(29," graphic design, making videos, "),ne(30,"div",17),G(31," , graffiti, and skating \\m/>.<\\m/ "),q(),$(32,"div"),G(33," i really like making new creative friends, so don't be afraid to reach out! my socials are all on the left if you ever want to talk! "),q(),$(34,"div",18),G(35," I DON'T BITE "),q(),$(36,"div",19),G(37," It's not safe yet. Check back later... -The Developer "),q()()()()),t&2&&(je(24),Es(" ",r.text1," "))},styles:[".aboutContainer[_ngcontent-%COMP%]{position:relative;background-color:#ffffff80;height:500px;padding:20px;box-sizing:border-box;font-size:larger;overflow-y:auto}.caps[_ngcontent-%COMP%]{margin:0;display:inline;color:red;font-weight:700}.corrupt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:inline}.glitch[_ngcontent-%COMP%]{position:relative;display:inline;color:#ffffff80;text-align:left}.glitch[_ngcontent-%COMP%]:after{color:#fff;content:attr(data-text);display:inline;position:relative;top:0;left:0}.glitch[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_glitch-after .1s infinite linear alternate-reverse}@keyframes _ngcontent-%COMP%_glitch-after{0%{clip-path:polygon(0 0,100% 0,100% 33%,0 33%);transform:translate(2px,-2px)}50%{clip-path:polygon(0 66%,100% 66%,100% 100%,0 100%);transform:translate(1px,1px)}to{clip-path:polygon(0 33%,100% 33%,100% 66%,0 66%);transform:translate(-2px,2px)}}.hidden[_ngcontent-%COMP%]{display:none}#profile[_ngcontent-%COMP%]{display:block;width:100%;max-width:400px;margin:auto}#secret[_ngcontent-%COMP%]{cursor:help}.section[_ngcontent-%COMP%]{display:block}.social[_ngcontent-%COMP%]{width:25%;max-width:100px}@media (min-width:800px){.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:20px}.pageContainer[_ngcontent-%COMP%]{width:90%;margin:20px auto auto}}@media (min-width:1000px){.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:20px}.pageContainer[_ngcontent-%COMP%]{width:80%;margin:20px auto auto}}@media (min-width:1200px){.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:20px}.pageContainer[_ngcontent-%COMP%]{width:50%;margin:20px auto auto}}"]})};var Rm=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},i0=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],h=n[t++],d=((i&7)<<18|(s&63)<<12|(a&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,h=a?n[i+1]:0,d=i+2<n.length,m=d?n[i+2]:0,w=s>>2,y=(s&3)<<4|h>>4,D=(h&15)<<2|m>>6,V=m&63;d||(V=64,a||(D=64)),r.push(t[w],t[y],t[D],t[V])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Rm(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;let m=i<n.length?t[n.charAt(i)]:64;++i;let y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||h==null||m==null||y==null)throw new ql;let D=s<<2|h>>4;if(r.push(D),m!==64){let V=h<<4&240|m>>2;if(r.push(V),y!==64){let N=m<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ql=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},s0=function(n){let e=Rm(n);return xm.encodeByteArray(e,!0)},Zs=function(n){return s0(n).replace(/\./g,"")},o0=function(n){try{return xm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var c0=()=>a0().__FIREBASE_DEFAULTS__,u0=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&o0(n[1]);return e&&JSON.parse(e)},zl=()=>{try{return c0()||u0()||l0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},h0=n=>{var e,t;return(t=(e=zl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dm=n=>{let e=h0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Gl=()=>{var n;return(n=zl())===null||n===void 0?void 0:n.config};var lc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Pm(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zs(JSON.stringify(t)),Zs(JSON.stringify(a)),""].join(".")}function Vm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d0(){var n;let e=(n=zl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mm(){return!d0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hl(){try{return typeof indexedDB=="object"}catch{return!1}}function km(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var f0="FirebaseError",un=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=f0,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}},eo=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?p0(s,r):"Error",h=`${this.serviceName}: ${a} (${i}).`;return new un(i,h,r)}};function p0(n,e){return n.replace(m0,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var m0=/\{\$([^}]+)}/g;function to(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Sm(s)&&Sm(a)){if(!to(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Sm(n){return n!==null&&typeof n=="object"}var $C=4*60*60*1e3;function Om(n){return n&&n._delegate?n._delegate:n}var ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mr="[DEFAULT]";var Kl=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new lc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y0(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return L(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let h=this.normalizeInstanceIdentifier(s);r===h&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g0(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function g0(n){return n===mr?void 0:n}function y0(n){return n.instantiationMode==="EAGER"}var hc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Kl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var v0=[],re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(re||{}),w0={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},_0=re.INFO,b0={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},E0=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=b0[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ci=class{constructor(e){this.name=e,this._logLevel=_0,this._logHandler=E0,this._userLogHandler=null,v0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var I0=(n,e)=>e.some(t=>n instanceof t),Nm,Fm;function C0(){return Nm||(Nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T0(){return Fm||(Fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Lm=new WeakMap,Ql=new WeakMap,Bm=new WeakMap,Wl=new WeakMap,Jl=new WeakMap;function A0(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Yt(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Lm.set(t,n)}).catch(()=>{}),Jl.set(e,n),e}function S0(n){if(Ql.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Ql.set(n,e)}var Yl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ql.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bm.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Um(n){Yl=n(Yl)}function R0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(dc(this),e,...t);return Bm.set(r,e.sort?e.sort():[e]),Yt(r)}:T0().includes(n)?function(...e){return n.apply(dc(this),e),Yt(Lm.get(this))}:function(...e){return Yt(n.apply(dc(this),e))}}function x0(n){return typeof n=="function"?R0(n):(n instanceof IDBTransaction&&S0(n),I0(n,C0())?new Proxy(n,Yl):n)}function Yt(n){if(n instanceof IDBRequest)return A0(n);if(Wl.has(n))return Wl.get(n);let e=x0(n);return e!==n&&(Wl.set(n,e),Jl.set(e,n)),e}var dc=n=>Jl.get(n);function $m(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),h=Yt(a);return r&&a.addEventListener("upgradeneeded",d=>{r(Yt(a.result),d.oldVersion,d.newVersion,Yt(a.transaction),d)}),t&&a.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}var D0=["get","getKey","getAll","getAllKeys","count"],P0=["put","add","delete","clear"],Xl=new Map;function jm(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xl.get(e))return Xl.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=P0.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D0.includes(t)))return;let s=function(a,...h){return L(this,null,function*(){let d=this.transaction(a,i?"readwrite":"readonly"),m=d.store;return r&&(m=m.index(h.shift())),(yield Promise.all([m[t](...h),i&&d.done]))[0]})};return Xl.set(e,s),s}Um(n=>ve(U({},n),{get:(e,t,r)=>jm(e,t)||n.get(e,t,r),has:(e,t)=>!!jm(e,t)||n.has(e,t)}));var eh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V0(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function V0(n){let e=n.getComponent();return e?.type==="VERSION"}var th="@firebase/app",qm="0.10.15";var hn=new ci("@firebase/app"),M0="@firebase/app-compat",k0="@firebase/analytics-compat",O0="@firebase/analytics",N0="@firebase/app-check-compat",F0="@firebase/app-check",L0="@firebase/auth",B0="@firebase/auth-compat",U0="@firebase/database",j0="@firebase/data-connect",$0="@firebase/database-compat",q0="@firebase/functions",z0="@firebase/functions-compat",G0="@firebase/installations",H0="@firebase/installations-compat",K0="@firebase/messaging",W0="@firebase/messaging-compat",Q0="@firebase/performance",Y0="@firebase/performance-compat",J0="@firebase/remote-config",X0="@firebase/remote-config-compat",Z0="@firebase/storage",eb="@firebase/storage-compat",tb="@firebase/firestore",nb="@firebase/vertexai",rb="@firebase/firestore-compat",ib="firebase",sb="11.0.1";var nh="[DEFAULT]",ob={[th]:"fire-core",[M0]:"fire-core-compat",[O0]:"fire-analytics",[k0]:"fire-analytics-compat",[F0]:"fire-app-check",[N0]:"fire-app-check-compat",[L0]:"fire-auth",[B0]:"fire-auth-compat",[U0]:"fire-rtdb",[j0]:"fire-data-connect",[$0]:"fire-rtdb-compat",[q0]:"fire-fn",[z0]:"fire-fn-compat",[G0]:"fire-iid",[H0]:"fire-iid-compat",[K0]:"fire-fcm",[W0]:"fire-fcm-compat",[Q0]:"fire-perf",[Y0]:"fire-perf-compat",[J0]:"fire-rc",[X0]:"fire-rc-compat",[Z0]:"fire-gcs",[eb]:"fire-gcs-compat",[tb]:"fire-fst",[rb]:"fire-fst-compat",[nb]:"fire-vertex","fire-js":"fire-js",[ib]:"fire-js-all"};var fc=new Map,ab=new Map,rh=new Map;function zm(n,e){try{n.container.addComponent(e)}catch(t){hn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function no(n){let e=n.name;if(rh.has(e))return hn.debug(`There were multiple attempts to register component ${e}.`),!1;rh.set(e,n);for(let t of fc.values())zm(t,n);for(let t of ab.values())zm(t,n);return!0}function Wm(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new eo("app","Firebase",cb);var ih=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}};var Qm=sb;function ah(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(t||(t=Gl()),!t)throw zn.create("no-options");let s=fc.get(i);if(s){if(to(t,s.options)&&to(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}let a=new hc(i);for(let d of rh.values())a.addComponent(d);let h=new ih(t,r,a);return fc.set(i,h),h}function Ym(n=nh){let e=fc.get(n);if(!e&&n===nh&&Gl())return ah();if(!e)throw zn.create("no-app",{appName:n});return e}function ui(n,e,t){var r;let i=(r=ob[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&h.push("and"),a&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hn.warn(h.join(" "));return}no(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ub="firebase-heartbeat-database",lb=1,ro="firebase-heartbeat-store",Zl=null;function Jm(){return Zl||(Zl=$m(ub,lb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ro)}catch(t){console.warn(t)}}}}).catch(n=>{throw zn.create("idb-open",{originalErrorMessage:n.message})})),Zl}function hb(n){return L(this,null,function*(){try{let t=(yield Jm()).transaction(ro),r=yield t.objectStore(ro).get(Xm(n));return yield t.done,r}catch(e){if(e instanceof un)hn.warn(e.message);else{let t=zn.create("idb-get",{originalErrorMessage:e?.message});hn.warn(t.message)}}})}function Gm(n,e){return L(this,null,function*(){try{let r=(yield Jm()).transaction(ro,"readwrite");yield r.objectStore(ro).put(e,Xm(n)),yield r.done}catch(t){if(t instanceof un)hn.warn(t.message);else{let r=zn.create("idb-set",{originalErrorMessage:t?.message});hn.warn(r.message)}}})}function Xm(n){return`${n.name}!${n.options.appId}`}var db=1024,fb=30*24*60*60*1e3,sh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new oh(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return L(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let h=new Date(a.date).valueOf();return Date.now()-h<=fb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hn.warn(r)}})}getHeartbeatsHeader(){return L(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Hm(),{heartbeatsToSend:r,unsentEntries:i}=pb(this._heartbeatsCache.heartbeats),s=Zs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return hn.warn(t),""}})}};function Hm(){return new Date().toISOString().substring(0,10)}function pb(n,e=db){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Km(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Km(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var oh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return Hl()?km().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield hb(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return L(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Gm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return L(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Gm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Km(n){return Zs(JSON.stringify({version:2,heartbeats:n})).length}function mb(n){no(new ln("platform-logger",e=>new eh(e),"PRIVATE")),no(new ln("heartbeat",e=>new sh(e),"PRIVATE")),ui(th,qm,n),ui(th,qm,"esm2017"),ui("fire-js","")}mb("");var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eg={};var Gn,ch;(function(){var n;function e(A,_){function b(){}b.prototype=_.prototype,A.D=_.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(I,C,T){for(var E=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)E[Tt-2]=arguments[Tt];return _.prototype[C].apply(I,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,_,b){b||(b=0);var I=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)I[C]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(C=0;16>C;++C)I[C]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=A.g[0],b=A.g[1],C=A.g[2];var T=A.g[3],E=_+(T^b&(C^T))+I[0]+3614090360&4294967295;_=b+(E<<7&4294967295|E>>>25),E=T+(C^_&(b^C))+I[1]+3905402710&4294967295,T=_+(E<<12&4294967295|E>>>20),E=C+(b^T&(_^b))+I[2]+606105819&4294967295,C=T+(E<<17&4294967295|E>>>15),E=b+(_^C&(T^_))+I[3]+3250441966&4294967295,b=C+(E<<22&4294967295|E>>>10),E=_+(T^b&(C^T))+I[4]+4118548399&4294967295,_=b+(E<<7&4294967295|E>>>25),E=T+(C^_&(b^C))+I[5]+1200080426&4294967295,T=_+(E<<12&4294967295|E>>>20),E=C+(b^T&(_^b))+I[6]+2821735955&4294967295,C=T+(E<<17&4294967295|E>>>15),E=b+(_^C&(T^_))+I[7]+4249261313&4294967295,b=C+(E<<22&4294967295|E>>>10),E=_+(T^b&(C^T))+I[8]+1770035416&4294967295,_=b+(E<<7&4294967295|E>>>25),E=T+(C^_&(b^C))+I[9]+2336552879&4294967295,T=_+(E<<12&4294967295|E>>>20),E=C+(b^T&(_^b))+I[10]+4294925233&4294967295,C=T+(E<<17&4294967295|E>>>15),E=b+(_^C&(T^_))+I[11]+2304563134&4294967295,b=C+(E<<22&4294967295|E>>>10),E=_+(T^b&(C^T))+I[12]+1804603682&4294967295,_=b+(E<<7&4294967295|E>>>25),E=T+(C^_&(b^C))+I[13]+4254626195&4294967295,T=_+(E<<12&4294967295|E>>>20),E=C+(b^T&(_^b))+I[14]+2792965006&4294967295,C=T+(E<<17&4294967295|E>>>15),E=b+(_^C&(T^_))+I[15]+1236535329&4294967295,b=C+(E<<22&4294967295|E>>>10),E=_+(C^T&(b^C))+I[1]+4129170786&4294967295,_=b+(E<<5&4294967295|E>>>27),E=T+(b^C&(_^b))+I[6]+3225465664&4294967295,T=_+(E<<9&4294967295|E>>>23),E=C+(_^b&(T^_))+I[11]+643717713&4294967295,C=T+(E<<14&4294967295|E>>>18),E=b+(T^_&(C^T))+I[0]+3921069994&4294967295,b=C+(E<<20&4294967295|E>>>12),E=_+(C^T&(b^C))+I[5]+3593408605&4294967295,_=b+(E<<5&4294967295|E>>>27),E=T+(b^C&(_^b))+I[10]+38016083&4294967295,T=_+(E<<9&4294967295|E>>>23),E=C+(_^b&(T^_))+I[15]+3634488961&4294967295,C=T+(E<<14&4294967295|E>>>18),E=b+(T^_&(C^T))+I[4]+3889429448&4294967295,b=C+(E<<20&4294967295|E>>>12),E=_+(C^T&(b^C))+I[9]+568446438&4294967295,_=b+(E<<5&4294967295|E>>>27),E=T+(b^C&(_^b))+I[14]+3275163606&4294967295,T=_+(E<<9&4294967295|E>>>23),E=C+(_^b&(T^_))+I[3]+4107603335&4294967295,C=T+(E<<14&4294967295|E>>>18),E=b+(T^_&(C^T))+I[8]+1163531501&4294967295,b=C+(E<<20&4294967295|E>>>12),E=_+(C^T&(b^C))+I[13]+2850285829&4294967295,_=b+(E<<5&4294967295|E>>>27),E=T+(b^C&(_^b))+I[2]+4243563512&4294967295,T=_+(E<<9&4294967295|E>>>23),E=C+(_^b&(T^_))+I[7]+1735328473&4294967295,C=T+(E<<14&4294967295|E>>>18),E=b+(T^_&(C^T))+I[12]+2368359562&4294967295,b=C+(E<<20&4294967295|E>>>12),E=_+(b^C^T)+I[5]+4294588738&4294967295,_=b+(E<<4&4294967295|E>>>28),E=T+(_^b^C)+I[8]+2272392833&4294967295,T=_+(E<<11&4294967295|E>>>21),E=C+(T^_^b)+I[11]+1839030562&4294967295,C=T+(E<<16&4294967295|E>>>16),E=b+(C^T^_)+I[14]+4259657740&4294967295,b=C+(E<<23&4294967295|E>>>9),E=_+(b^C^T)+I[1]+2763975236&4294967295,_=b+(E<<4&4294967295|E>>>28),E=T+(_^b^C)+I[4]+1272893353&4294967295,T=_+(E<<11&4294967295|E>>>21),E=C+(T^_^b)+I[7]+4139469664&4294967295,C=T+(E<<16&4294967295|E>>>16),E=b+(C^T^_)+I[10]+3200236656&4294967295,b=C+(E<<23&4294967295|E>>>9),E=_+(b^C^T)+I[13]+681279174&4294967295,_=b+(E<<4&4294967295|E>>>28),E=T+(_^b^C)+I[0]+3936430074&4294967295,T=_+(E<<11&4294967295|E>>>21),E=C+(T^_^b)+I[3]+3572445317&4294967295,C=T+(E<<16&4294967295|E>>>16),E=b+(C^T^_)+I[6]+76029189&4294967295,b=C+(E<<23&4294967295|E>>>9),E=_+(b^C^T)+I[9]+3654602809&4294967295,_=b+(E<<4&4294967295|E>>>28),E=T+(_^b^C)+I[12]+3873151461&4294967295,T=_+(E<<11&4294967295|E>>>21),E=C+(T^_^b)+I[15]+530742520&4294967295,C=T+(E<<16&4294967295|E>>>16),E=b+(C^T^_)+I[2]+3299628645&4294967295,b=C+(E<<23&4294967295|E>>>9),E=_+(C^(b|~T))+I[0]+4096336452&4294967295,_=b+(E<<6&4294967295|E>>>26),E=T+(b^(_|~C))+I[7]+1126891415&4294967295,T=_+(E<<10&4294967295|E>>>22),E=C+(_^(T|~b))+I[14]+2878612391&4294967295,C=T+(E<<15&4294967295|E>>>17),E=b+(T^(C|~_))+I[5]+4237533241&4294967295,b=C+(E<<21&4294967295|E>>>11),E=_+(C^(b|~T))+I[12]+1700485571&4294967295,_=b+(E<<6&4294967295|E>>>26),E=T+(b^(_|~C))+I[3]+2399980690&4294967295,T=_+(E<<10&4294967295|E>>>22),E=C+(_^(T|~b))+I[10]+4293915773&4294967295,C=T+(E<<15&4294967295|E>>>17),E=b+(T^(C|~_))+I[1]+2240044497&4294967295,b=C+(E<<21&4294967295|E>>>11),E=_+(C^(b|~T))+I[8]+1873313359&4294967295,_=b+(E<<6&4294967295|E>>>26),E=T+(b^(_|~C))+I[15]+4264355552&4294967295,T=_+(E<<10&4294967295|E>>>22),E=C+(_^(T|~b))+I[6]+2734768916&4294967295,C=T+(E<<15&4294967295|E>>>17),E=b+(T^(C|~_))+I[13]+1309151649&4294967295,b=C+(E<<21&4294967295|E>>>11),E=_+(C^(b|~T))+I[4]+4149444226&4294967295,_=b+(E<<6&4294967295|E>>>26),E=T+(b^(_|~C))+I[11]+3174756917&4294967295,T=_+(E<<10&4294967295|E>>>22),E=C+(_^(T|~b))+I[2]+718787259&4294967295,C=T+(E<<15&4294967295|E>>>17),E=b+(T^(C|~_))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+_&4294967295,A.g[1]=A.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,A.g[2]=A.g[2]+C&4294967295,A.g[3]=A.g[3]+T&4294967295}r.prototype.u=function(A,_){_===void 0&&(_=A.length);for(var b=_-this.blockSize,I=this.B,C=this.h,T=0;T<_;){if(C==0)for(;T<=b;)i(this,A,T),T+=this.blockSize;if(typeof A=="string"){for(;T<_;)if(I[C++]=A.charCodeAt(T++),C==this.blockSize){i(this,I),C=0;break}}else for(;T<_;)if(I[C++]=A[T++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var _=1;_<A.length-8;++_)A[_]=0;var b=8*this.o;for(_=A.length-8;_<A.length;++_)A[_]=b&255,b/=256;for(this.u(A),A=Array(16),_=b=0;4>_;++_)for(var I=0;32>I;I+=8)A[b++]=this.g[_]>>>I&255;return A};function s(A,_){var b=h;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=_(A)}function a(A,_){this.h=_;for(var b=[],I=!0,C=A.length-1;0<=C;C--){var T=A[C]|0;I&&T==_||(b[C]=T,I=!1)}this.g=b}var h={};function d(A){return-128<=A&&128>A?s(A,function(_){return new a([_|0],0>_?-1:0)}):new a([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return y;if(0>A)return M(m(-A));for(var _=[],b=1,I=0;A>=b;I++)_[I]=A/b|0,b*=4294967296;return new a(_,0)}function w(A,_){if(A.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A.charAt(0)=="-")return M(w(A.substring(1),_));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(_,8)),I=y,C=0;C<A.length;C+=8){var T=Math.min(8,A.length-C),E=parseInt(A.substring(C,C+T),_);8>T?(T=m(Math.pow(_,T)),I=I.j(T).add(m(E))):(I=I.j(b),I=I.add(m(E)))}return I}var y=d(0),D=d(1),V=d(16777216);n=a.prototype,n.m=function(){if(j(this))return-M(this).m();for(var A=0,_=1,b=0;b<this.g.length;b++){var I=this.i(b);A+=(0<=I?I:4294967296+I)*_,_*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(j(this))return"-"+M(this).toString(A);for(var _=m(Math.pow(A,6)),b=this,I="";;){var C=_e(b,_).g;b=Z(b,C.j(_));var T=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=C,N(b))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(var _=0;_<A.g.length;_++)if(A.g[_]!=0)return!1;return!0}function j(A){return A.h==-1}n.l=function(A){return A=Z(this,A),j(A)?-1:N(A)?0:1};function M(A){for(var _=A.g.length,b=[],I=0;I<_;I++)b[I]=~A.g[I];return new a(b,~A.h).add(D)}n.abs=function(){return j(this)?M(this):this},n.add=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],I=0,C=0;C<=_;C++){var T=I+(this.i(C)&65535)+(A.i(C)&65535),E=(T>>>16)+(this.i(C)>>>16)+(A.i(C)>>>16);I=E>>>16,T&=65535,E&=65535,b[C]=E<<16|T}return new a(b,b[b.length-1]&-2147483648?-1:0)};function Z(A,_){return A.add(M(_))}n.j=function(A){if(N(this)||N(A))return y;if(j(this))return j(A)?M(this).j(M(A)):M(M(this).j(A));if(j(A))return M(this.j(M(A)));if(0>this.l(V)&&0>A.l(V))return m(this.m()*A.m());for(var _=this.g.length+A.g.length,b=[],I=0;I<2*_;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<A.g.length;C++){var T=this.i(I)>>>16,E=this.i(I)&65535,Tt=A.i(C)>>>16,wn=A.i(C)&65535;b[2*I+2*C]+=E*wn,le(b,2*I+2*C),b[2*I+2*C+1]+=T*wn,le(b,2*I+2*C+1),b[2*I+2*C+1]+=E*Tt,le(b,2*I+2*C+1),b[2*I+2*C+2]+=T*Tt,le(b,2*I+2*C+2)}for(I=0;I<_;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=_;I<2*_;I++)b[I]=0;return new a(b,0)};function le(A,_){for(;(A[_]&65535)!=A[_];)A[_+1]+=A[_]>>>16,A[_]&=65535,_++}function oe(A,_){this.g=A,this.h=_}function _e(A,_){if(N(_))throw Error("division by zero");if(N(A))return new oe(y,y);if(j(A))return _=_e(M(A),_),new oe(M(_.g),M(_.h));if(j(_))return _=_e(A,M(_)),new oe(M(_.g),_.h);if(30<A.g.length){if(j(A)||j(_))throw Error("slowDivide_ only works with positive integers.");for(var b=D,I=_;0>=I.l(A);)b=Ke(b),I=Ke(I);var C=me(b,1),T=me(I,1);for(I=me(I,2),b=me(b,2);!N(I);){var E=T.add(I);0>=E.l(A)&&(C=C.add(b),T=E),I=me(I,1),b=me(b,1)}return _=Z(A,C.j(_)),new oe(C,_)}for(C=y;0<=A.l(_);){for(b=Math.max(1,Math.floor(A.m()/_.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=m(b),E=T.j(_);j(E)||0<E.l(A);)b-=I,T=m(b),E=T.j(_);N(T)&&(T=D),C=C.add(T),A=Z(A,E)}return new oe(C,A)}n.A=function(A){return _e(this,A).h},n.and=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)&A.i(I);return new a(b,this.h&A.h)},n.or=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)|A.i(I);return new a(b,this.h|A.h)},n.xor=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)^A.i(I);return new a(b,this.h^A.h)};function Ke(A){for(var _=A.g.length+1,b=[],I=0;I<_;I++)b[I]=A.i(I)<<1|A.i(I-1)>>>31;return new a(b,A.h)}function me(A,_){var b=_>>5;_%=32;for(var I=A.g.length-b,C=[],T=0;T<I;T++)C[T]=0<_?A.i(T+b)>>>_|A.i(T+b+1)<<32-_:A.i(T+b);return new a(C,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ch=eg.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=m,a.fromString=w,Gn=eg.Integer=a}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={};var uh,gb,li,lh,io,mc,hh,dh,fh;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,f){return o==Array.prototype||o==Object.prototype||(o[l]=f.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var l=0;l<o.length;++l){var f=o[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(o,l){if(l)e:{var f=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var S=o[g];if(!(S in f))break e;f=f[S]}o=o[o.length-1],g=f[o],l=l(g),l!=g&&l!=null&&e(f,o,{configurable:!0,writable:!0,value:l})}}function s(o,l){o instanceof String&&(o+="");var f=0,g=!1,S={next:function(){if(!g&&f<o.length){var x=f++;return{value:l(x,o[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(o){return o||function(){return s(this,function(l,f){return f})}});var a=a||{},h=this||self;function d(o){var l=typeof o;return l=l!="object"?l:o?Array.isArray(o)?"array":l:"null",l=="array"||l=="object"&&typeof o.length=="number"}function m(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}function w(o,l,f){return o.call.apply(o.bind,arguments)}function y(o,l,f){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),o.apply(l,S)}}return function(){return o.apply(l,arguments)}}function D(o,l,f){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:y,D.apply(null,arguments)}function V(o,l){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function N(o,l){function f(){}f.prototype=l.prototype,o.aa=l.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(g,S,x){for(var k=Array(arguments.length-2),de=2;de<arguments.length;de++)k[de-2]=arguments[de];return l.prototype[S].apply(g,k)}}function j(o){let l=o.length;if(0<l){let f=Array(l);for(let g=0;g<l;g++)f[g]=o[g];return f}return[]}function M(o,l){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(d(g)){let S=o.length||0,x=g.length||0;o.length=S+x;for(let k=0;k<x;k++)o[S+k]=g[k]}else o.push(g)}}class Z{constructor(l,f){this.i=l,this.j=f,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function le(o){return/^[\s\xa0]*$/.test(o)}function oe(){var o=h.navigator;return o&&(o=o.userAgent)?o:""}function _e(o){return _e[" "](o),o}_e[" "]=function(){};var Ke=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function me(o,l,f){for(let g in o)l.call(f,o[g],g,o)}function A(o,l){for(let f in o)l.call(void 0,o[f],f,o)}function _(o){let l={};for(let f in o)l[f]=o[f];return l}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,l){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)o[f]=g[f];for(let x=0;x<b.length;x++)f=b[x],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function C(o){var l=1;o=o.split(":");let f=[];for(;0<l&&o.length;)f.push(o.shift()),l--;return o.length&&f.push(o.join(":")),f}function T(o){h.setTimeout(()=>{throw o},0)}function E(){var o=bn;let l=null;return o.g&&(l=o.g,o.g=o.g.next,o.g||(o.h=null),l.next=null),l}class Tt{constructor(){this.h=this.g=null}add(l,f){let g=wn.get();g.set(l,f),this.h?this.h.next=g:this.g=g,this.h=g}}var wn=new Z(()=>new Li,o=>o.reset());class Li{constructor(){this.next=this.g=this.h=null}set(l,f){this.h=l,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let _n,tn=!1,bn=new Tt,lt=()=>{let o=h.Promise.resolve(void 0);_n=()=>{o.then(En)}};var En=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(f){T(f)}var l=wn;l.j(o),100>l.h&&(l.h++,o.next=l.g,l.g=o)}tn=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(o,l){this.type=o,this.g=this.target=l,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var In=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let f=()=>{};h.addEventListener("test",f,l),h.removeEventListener("test",f,l)}catch{}return o}();function At(o,l){if(qe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(Ke){e:{try{_e(l.nodeName);var S=!0;break e}catch{}S=!1}S||(l=null)}}else f=="mouseover"?l=o.fromElement:f=="mouseout"&&(l=o.toElement);this.relatedTarget=l,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ao[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}N(At,qe);var Ao={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),Bi=0;function ru(o,l,f,g,S){this.listener=o,this.proxy=null,this.src=l,this.type=f,this.capture=!!g,this.ha=S,this.key=++Bi,this.da=this.fa=!1}function Cn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Tn(o){this.src=o,this.g={},this.h=0}Tn.prototype.add=function(o,l,f,g,S){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var k=Ui(o,l,g,S);return-1<k?(l=o[k],f||(l.fa=!1)):(l=new ru(l,this.src,x,!!g,S),l.fa=f,o.push(l)),l};function An(o,l){var f=l.type;if(f in o.g){var g=o.g[f],S=Array.prototype.indexOf.call(g,l,void 0),x;(x=0<=S)&&Array.prototype.splice.call(g,S,1),x&&(Cn(l),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ui(o,l,f,g){for(var S=0;S<o.length;++S){var x=o[S];if(!x.da&&x.listener==l&&x.capture==!!f&&x.ha==g)return S}return-1}var We="closure_lm_"+(1e6*Math.random()|0),ht={};function So(o,l,f,g,S){if(g&&g.once)return ji(o,l,f,g,S);if(Array.isArray(l)){for(var x=0;x<l.length;x++)So(o,l[x],f,g,S);return null}return f=Ve(f),o&&o[Ft]?o.K(l,f,m(g)?!!g.capture:!!g,S):Ze(o,l,f,!1,g,S)}function Ze(o,l,f,g,S,x){if(!l)throw Error("Invalid event type");var k=m(S)?!!S.capture:!!S,de=St(o);if(de||(o[We]=de=new Tn(o)),f=de.add(l,f,g,k,x),f.proxy)return f;if(g=br(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)In||(S=k),S===void 0&&(S=!1),o.addEventListener(l.toString(),g,S);else if(o.attachEvent)o.attachEvent(dt(l.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function br(){function o(f){return l.call(o.src,o.listener,f)}let l=Lt;return o}function ji(o,l,f,g,S){if(Array.isArray(l)){for(var x=0;x<l.length;x++)ji(o,l[x],f,g,S);return null}return f=Ve(f),o&&o[Ft]?o.L(l,f,m(g)?!!g.capture:!!g,S):Ze(o,l,f,!0,g,S)}function $i(o,l,f,g,S){if(Array.isArray(l))for(var x=0;x<l.length;x++)$i(o,l[x],f,g,S);else g=m(g)?!!g.capture:!!g,f=Ve(f),o&&o[Ft]?(o=o.i,l=String(l).toString(),l in o.g&&(x=o.g[l],f=Ui(x,f,g,S),-1<f&&(Cn(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete o.g[l],o.h--)))):o&&(o=St(o))&&(l=o.g[l.toString()],o=-1,l&&(o=Ui(l,f,g,S)),(f=-1<o?l[o]:null)&&ee(f))}function ee(o){if(typeof o!="number"&&o&&!o.da){var l=o.src;if(l&&l[Ft])An(l.i,o);else{var f=o.type,g=o.proxy;l.removeEventListener?l.removeEventListener(f,g,o.capture):l.detachEvent?l.detachEvent(dt(f),g):l.addListener&&l.removeListener&&l.removeListener(g),(f=St(l))?(An(f,o),f.h==0&&(f.src=null,l[We]=null)):Cn(o)}}}function dt(o){return o in ht?ht[o]:ht[o]="on"+o}function Lt(o,l){if(o.da)o=!0;else{l=new At(l,this);var f=o.listener,g=o.ha||o.src;o.fa&&ee(o),o=f.call(g,l)}return o}function St(o){return o=o[We],o instanceof Tn?o:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(o){return typeof o=="function"?o:(o[Se]||(o[Se]=function(l){return o.handleEvent(l)}),o[Se])}function Me(){Xe.call(this),this.i=new Tn(this),this.M=this,this.F=null}N(Me,Xe),Me.prototype[Ft]=!0,Me.prototype.removeEventListener=function(o,l,f,g){$i(this,o,l,f,g)};function ze(o,l){var f,g=o.F;if(g)for(f=[];g;g=g.F)f.push(g);if(o=o.M,g=l.type||l,typeof l=="string")l=new qe(l,o);else if(l instanceof qe)l.target=l.target||o;else{var S=l;l=new qe(g,o),I(l,S)}if(S=!0,f)for(var x=f.length-1;0<=x;x--){var k=l.g=f[x];S=Bt(k,g,!0,l)&&S}if(k=l.g=o,S=Bt(k,g,!0,l)&&S,S=Bt(k,g,!1,l)&&S,f)for(x=0;x<f.length;x++)k=l.g=f[x],S=Bt(k,g,!1,l)&&S}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var o=this.i,l;for(l in o.g){for(var f=o.g[l],g=0;g<f.length;g++)Cn(f[g]);delete o.g[l],o.h--}}this.F=null},Me.prototype.K=function(o,l,f,g){return this.i.add(String(o),l,!1,f,g)},Me.prototype.L=function(o,l,f,g){return this.i.add(String(o),l,!0,f,g)};function Bt(o,l,f,g){if(l=o.i.g[String(l)],!l)return!0;l=l.concat();for(var S=!0,x=0;x<l.length;++x){var k=l[x];if(k&&!k.da&&k.capture==f){var de=k.listener,Be=k.ha||k.src;k.fa&&An(o.i,k),S=de.call(Be,g)!==!1&&S}}return S&&!g.defaultPrevented}function Qe(o,l,f){if(typeof o=="function")f&&(o=D(o,f));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:h.setTimeout(o,l||0)}function Ro(o){o.g=Qe(()=>{o.g=null,o.i&&(o.i=!1,Ro(o))},o.l);let l=o.h;o.h=null,o.m.apply(null,l)}class xo extends Xe{constructor(l,f){super(),this.m=l,this.l=f,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(o){Xe.call(this),this.h=o,this.g={}}N(Sn,Xe);var Er=[];function Do(o){me(o.g,function(l,f){this.g.hasOwnProperty(f)&&ee(l)},o),o.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),Do(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=h.JSON.stringify,iu=h.JSON.parse,su=class{stringify(o){return h.JSON.stringify(o,void 0)}parse(o){return h.JSON.parse(o,void 0)}};function Rt(){}Rt.prototype.h=null;function Po(o){return o.h||(o.h=o.i())}function Vo(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){qe.call(this,"d")}N(zi,qe);function Gi(){qe.call(this,"c")}N(Gi,qe);var xt={},Mo=null;function Ir(){return Mo=Mo||new Me}xt.La="serverreachability";function ko(o){qe.call(this,xt.La,o)}N(ko,qe);function Qn(o){let l=Ir();ze(l,new ko(l))}xt.STAT_EVENT="statevent";function Oo(o,l){qe.call(this,xt.STAT_EVENT,o),this.stat=l}N(Oo,qe);function Le(o){let l=Ir();ze(l,new Oo(l,o))}xt.Ma="timingevent";function No(o,l){qe.call(this,xt.Ma,o),this.size=l}N(No,qe);function Yn(o,l){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){o()},l)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function ou(o,l,f,g,S,x){o.info(function(){if(o.g)if(x)for(var k="",de=x.split("&"),Be=0;Be<de.length;Be++){var te=de[Be].split("=");if(1<te.length){var Ge=te[0];te=te[1];var Ue=Ge.split("_");k=2<=Ue.length&&Ue[1]=="type"?k+(Ge+"="+te+"&"):k+(Ge+"=redacted&")}}else k=null;else k=x;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+l+`
`+f+`
`+k})}function au(o,l,f,g,S,x,k){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+l+`
`+f+`
`+x+" "+k})}function ae(o,l,f,g){o.info(function(){return"XMLHTTP TEXT ("+l+"): "+uu(o,f)+(g?" "+g:"")})}function cu(o,l){o.info(function(){return"TIMEOUT: "+l})}Jn.prototype.info=function(){};function uu(o,l){if(!o.g)return l;if(!l)return null;try{var f=JSON.parse(l);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var g=f[o];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var x=S[0];if(x!="noop"&&x!="stop"&&x!="close")for(var k=1;k<S.length;k++)S[k]=""}}}}return qi(f)}catch{return l}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function Tr(){}N(Tr,Rt),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Hi=new Tr;function gt(o,l,f,g){this.j=o,this.i=l,this.l=f,this.R=g||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}var Ki={},xn={};function be(o,l,f){o.L=1,o.v=Sr(yt(l)),o.m=f,o.P=!0,Lo(o,null)}function Lo(o,l){o.F=Date.now(),Xn(o),o.A=yt(o.v);var f=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),ea(f.i,"t",g),o.C=0,f=o.j.J,o.h=new Rn,o.g=cs(o.j,f?l:null,!o.m),0<o.O&&(o.M=new xo(D(o.Y,o,o.g),o.O)),l=o.U,f=o.g,g=o.ca;var S="readystatechange";Array.isArray(S)||(S&&(Er[0]=S.toString()),S=Er);for(var x=0;x<S.length;x++){var k=So(f,S[x],g||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=o.H?_(o.H):{},o.m?(o.u||(o.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,l)):(o.u="GET",o.g.ea(o.A,o.u,null,l)),Qn(),ou(o.i,o.u,o.A,o.l,o.R,o.m)}gt.prototype.ca=function(o){o=o.target;let l=this.M;l&&Pt(o)==3?l.j():this.Y(o)},gt.prototype.Y=function(o){try{if(o==this.g)e:{let Ue=Pt(this.g);var l=this.g.Ba();let zt=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||aa(this.g)))){this.J||Ue!=4||l==7||(l==8||0>=zt?Qn(3):Qn(2)),Wi(this);var f=this.g.Z();this.X=f;t:if(Bo(this)){var g=aa(this.g);o="";var S=g.length,x=Pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Zn(this);var k="";break t}this.h.i=new h.TextDecoder}for(l=0;l<S;l++)this.h.h=!0,o+=this.h.i.decode(g[l],{stream:!(x&&l==S-1)});g.length=0,this.h.g+=o,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,au(this.i,this.u,this.A,this.l,this.R,Ue,f),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Be=this.g;if((de=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(de)){var te=de;break t}}te=null}if(f=te)ae(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,f);else{this.o=!1,this.s=3,Le(12),Ut(this),Zn(this);break e}}if(this.P){f=!0;let ft;for(;!this.J&&this.C<k.length;)if(ft=lu(this,k),ft==xn){Ue==4&&(this.s=4,Le(14),f=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Ki){this.s=4,Le(15),ae(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ae(this.i,this.l,ft,null),Qi(this,ft);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||k.length!=0||this.h.h||(this.s=1,Le(16),f=!1),this.o=this.o&&f,!f)ae(this.i,this.l,k,"[Invalid Chunked Response]"),Ut(this),Zn(this);else if(0<k.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),On(Ge),Ge.M=!0,Le(11))}}else ae(this.i,this.l,k,null),Qi(this,k);Ue==4&&Ut(this),this.o&&!this.J&&(Ue==4?is(this.j,this):(this.o=!1,Xn(this)))}else wu(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),Ut(this),Zn(this)}}}catch{}finally{}};function Bo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function lu(o,l){var f=o.C,g=l.indexOf(`
`,f);return g==-1?xn:(f=Number(l.substring(f,g)),isNaN(f)?Ki:(g+=1,g+f>l.length?xn:(l=l.slice(g,g+f),o.C=g+f,l)))}gt.prototype.cancel=function(){this.J=!0,Ut(this)};function Xn(o){o.S=Date.now()+o.I,Uo(o,o.I)}function Uo(o,l){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Yn(D(o.ba,o),l)}function Wi(o){o.B&&(h.clearTimeout(o.B),o.B=null)}gt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(cu(this.i,this.A),this.L!=2&&(Qn(),Le(17)),Ut(this),this.s=2,Zn(this)):Uo(this,this.S-o)};function Zn(o){o.j.G==0||o.J||is(o.j,o)}function Ut(o){Wi(o);var l=o.M;l&&typeof l.ma=="function"&&l.ma(),o.M=null,Do(o.U),o.g&&(l=o.g,o.g=null,l.abort(),l.ma())}function Qi(o,l){try{var f=o.j;if(f.G!=0&&(f.g==o||Yi(f.h,o))){if(!o.K&&Yi(f.h,o)&&f.G==3){try{var g=f.Da.g.parse(l)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)ar(f),Pr(f);else break e;or(f),Le(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Yn(D(f.Za,f),6e3));if(1>=zo(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else qt(f,11)}else if((o.K||f.g==o)&&ar(f),!le(l))for(S=f.Da.g.parse(l),l=0;l<S.length;l++){let te=S[l];if(f.T=te[0],te=te[1],f.G==2)if(te[0]=="c"){f.K=te[1],f.ia=te[2];let Ge=te[3];Ge!=null&&(f.la=Ge,f.j.info("VER="+f.la));let Ue=te[4];Ue!=null&&(f.Aa=Ue,f.j.info("SVER="+f.Aa));let zt=te[5];zt!=null&&typeof zt=="number"&&0<zt&&(g=1.5*zt,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let ft=o.g;if(ft){let Mr=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var x=g.h;x.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Ji(x,x.h),x.h=null))}if(g.D){let ls=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(g.ya=ls,ye(g.I,g.D,ls))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=o;if(g.qa=as(g,g.J?g.ia:null,g.W),k.K){Go(g.h,k);var de=k,Be=g.L;Be&&(de.I=Be),de.B&&(Wi(de),Xn(de)),g.g=k}else rs(g);0<f.i.length&&Vr(f)}else te[0]!="stop"&&te[0]!="close"||qt(f,7);else f.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?qt(f,7):Dr(f):te[0]!="noop"&&f.l&&f.l.ta(te),f.v=0)}}Qn(4)}catch{}}var jo=class{constructor(o,l){this.g=o,this.map=l}};function $o(o){this.l=o||10,h.PerformanceNavigationTiming?(o=h.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function zo(o){return o.h?1:o.g?o.g.size:0}function Yi(o,l){return o.h?o.h==l:o.g?o.g.has(l):!1}function Ji(o,l){o.g?o.g.add(l):o.h=l}function Go(o,l){o.h&&o.h==l?o.h=null:o.g&&o.g.has(l)&&o.g.delete(l)}$o.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Ho(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let l=o.i;for(let f of o.g.values())l=l.concat(f.D);return l}return j(o.i)}function Ko(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(d(o)){for(var l=[],f=o.length,g=0;g<f;g++)l.push(o[g]);return l}l=[],f=0;for(g in o)l[f++]=o[g];return l}function hu(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(d(o)||typeof o=="string"){var l=[];o=o.length;for(var f=0;f<o;f++)l.push(f);return l}l=[],f=0;for(let g in o)l[f++]=g;return l}}}function Xi(o,l){if(o.forEach&&typeof o.forEach=="function")o.forEach(l,void 0);else if(d(o)||typeof o=="string")Array.prototype.forEach.call(o,l,void 0);else for(var f=hu(o),g=Ko(o),S=g.length,x=0;x<S;x++)l.call(void 0,g[x],f&&f[x],o)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(o,l){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var g=o[f].indexOf("="),S=null;if(0<=g){var x=o[f].substring(0,g);S=o[f].substring(g+1)}else x=o[f];l(x,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function st(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof st){this.h=o.h,Ar(this,o.j),this.o=o.o,this.g=o.g,Dn(this,o.s),this.l=o.l;var l=o.i,f=new nr;f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),Zi(this,f),this.m=o.m}else o&&(l=String(o).match(Wo))?(this.h=!1,Ar(this,l[1]||"",!0),this.o=er(l[2]||""),this.g=er(l[3]||"",!0),Dn(this,l[4]),this.l=er(l[5]||"",!0),Zi(this,l[6]||"",!0),this.m=er(l[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}st.prototype.toString=function(){var o=[],l=this.j;l&&o.push(tr(l,Qo,!0),":");var f=this.g;return(f||l=="file")&&(o.push("//"),(l=this.o)&&o.push(tr(l,Qo,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(tr(f,f.charAt(0)=="/"?pu:Pn,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",tr(f,Jo)),o.join("")};function yt(o){return new st(o)}function Ar(o,l,f){o.j=f?er(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function Dn(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.s=l}else o.s=null}function Zi(o,l,f){l instanceof nr?(o.i=l,mu(o.i,o.h)):(f||(l=tr(l,Yo)),o.i=new nr(l,o.h))}function ye(o,l,f){o.i.set(l,f)}function Sr(o){return ye(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function er(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function tr(o,l,f){return typeof o=="string"?(o=encodeURI(o).replace(l,fu),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qo=/[#\/\?@]/g,Pn=/[#\?:]/g,pu=/[#\?]/g,Yo=/[#\?@]/g,Jo=/#/g;function nr(o,l){this.h=this.g=null,this.i=o||null,this.j=!!l}function jt(o){o.g||(o.g=new Map,o.h=0,o.i&&du(o.i,function(l,f){o.add(decodeURIComponent(l.replace(/\+/g," ")),f)}))}n=nr.prototype,n.add=function(o,l){jt(this),this.i=null,o=Vn(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(l),this.h+=1,this};function Xo(o,l){jt(o),l=Vn(o,l),o.g.has(l)&&(o.i=null,o.h-=o.g.get(l).length,o.g.delete(l))}function Zo(o,l){return jt(o),l=Vn(o,l),o.g.has(l)}n.forEach=function(o,l){jt(this),this.g.forEach(function(f,g){f.forEach(function(S){o.call(l,S,g,this)},this)},this)},n.na=function(){jt(this);let o=Array.from(this.g.values()),l=Array.from(this.g.keys()),f=[];for(let g=0;g<l.length;g++){let S=o[g];for(let x=0;x<S.length;x++)f.push(l[g])}return f},n.V=function(o){jt(this);let l=[];if(typeof o=="string")Zo(this,o)&&(l=l.concat(this.g.get(Vn(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)l=l.concat(o[f])}return l},n.set=function(o,l){return jt(this),this.i=null,o=Vn(this,o),Zo(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[l]),this.h+=1,this},n.get=function(o,l){return o?(o=this.V(o),0<o.length?String(o[0]):l):l};function ea(o,l,f){Xo(o,l),0<f.length&&(o.i=null,o.g.set(Vn(o,l),j(f)),o.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],l=Array.from(this.g.keys());for(var f=0;f<l.length;f++){var g=l[f];let x=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var S=x;k[g]!==""&&(S+="="+encodeURIComponent(String(k[g]))),o.push(S)}}return this.i=o.join("&")};function Vn(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function mu(o,l){l&&!o.j&&(jt(o),o.i=null,o.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(Xo(this,g),ea(this,S,f))},o)),o.j=l}function Mn(o,l){let f=new Jn;if(h.Image){let g=new Image;g.onload=V($t,f,"TestLoadImage: loaded",!0,l,g),g.onerror=V($t,f,"TestLoadImage: error",!1,l,g),g.onabort=V($t,f,"TestLoadImage: abort",!1,l,g),g.ontimeout=V($t,f,"TestLoadImage: timeout",!1,l,g),h.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else l(!1)}function gu(o,l){let f=new Jn,g=new AbortController,S=setTimeout(()=>{g.abort(),$t(f,"TestPingServer: timeout",!1,l)},1e4);fetch(o,{signal:g.signal}).then(x=>{clearTimeout(S),x.ok?$t(f,"TestPingServer: ok",!0,l):$t(f,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(S),$t(f,"TestPingServer: error",!1,l)})}function $t(o,l,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function ta(){this.g=new su}function yu(o,l,f){let g=f||"";try{Xi(o,function(S,x){let k=S;m(S)&&(k=qi(S)),l.push(g+x+"="+encodeURIComponent(k))})}catch(S){throw l.push(g+"type="+encodeURIComponent("_badmap")),S}}function ot(o){this.l=o.Ub||null,this.j=o.eb||!1}N(ot,Rt),ot.prototype.g=function(){return new Rr(this.l,this.j)},ot.prototype.i=function(o){return function(){return o}}({});function Rr(o,l){Me.call(this),this.D=o,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Rr,Me),n=Rr.prototype,n.open=function(o,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=l,this.readyState=1,rr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(l.body=o),(this.D||h).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dt(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;es(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function es(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var l=o.value?o.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!o.done}))&&(this.response=this.responseText+=l)}o.done?Dt(this):rr(this),this.readyState==3&&es(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Dt(this))},n.Qa=function(o){this.g&&(this.response=o,Dt(this))},n.ga=function(){this.g&&Dt(this)};function Dt(o){o.readyState=4,o.l=null,o.j=null,o.v=null,rr(o)}n.setRequestHeader=function(o,l){this.u.append(o,l)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],l=this.h.entries();for(var f=l.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=l.next();return o.join(`\r
`)};function rr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function na(o){let l="";return me(o,function(f,g){l+=g,l+=":",l+=f,l+=`\r
`}),l}function ts(o,l,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=na(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):ye(o,l,f))}function Ee(o){Me.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ee,Me);var kn=/^https?$/i,vu=["POST","PUT"];n=Ee.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,l,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);l=l?l.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?Po(this.o):Po(Hi),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(l,String(o),!0),this.B=!1}catch(x){ra(this,x);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),S=h.FormData&&o instanceof h.FormData,!(0<=Array.prototype.indexOf.call(vu,l,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,k]of f)this.g.setRequestHeader(x,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){ra(this,x)}};function ra(o,l){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=l,o.m=5,ia(o),xr(o)}function ia(o){o.A||(o.A=!0,ze(o,"complete"),ze(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ze(this,"complete"),ze(this,"abort"),xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Pt(o)!=4||o.Z()!=2)){if(o.u&&Pt(o)==4)Qe(o.Ea,0,o);else if(ze(o,"readystatechange"),Pt(o)==4){o.h=!1;try{let k=o.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var f;if(!(f=l)){var g;if(g=k===0){var S=String(o.D).match(Wo)[1]||null;!S&&h.self&&h.self.location&&(S=h.self.location.protocol.slice(0,-1)),g=!kn.test(S?S.toLowerCase():"")}f=g}if(f)ze(o,"complete"),ze(o,"success");else{o.m=6;try{var x=2<Pt(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",ia(o)}}finally{xr(o)}}}}function xr(o,l){if(o.g){oa(o);let f=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,l||ze(o,"ready");try{f.onreadystatechange=g}catch{}}}function oa(o){o.I&&(h.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Pt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Pt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var l=this.g.responseText;return o&&l.indexOf(o)==0&&(l=l.substring(o.length)),iu(l)}};function aa(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function wu(o){let l={};o=(o.g&&2<=Pt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(le(o[g]))continue;var f=C(o[g]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=l[S]||[];l[S]=x,x.push(f)}A(l,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(o,l,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||l}function sr(o){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,o),this.cb=ir("retryDelaySeedMs",1e4,o),this.Wa=ir("forwardChannelMaxRetries",2,o),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new $o(o&&o.concurrentRequestLimit),this.Da=new ta,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sr.prototype,n.la=8,n.G=1,n.connect=function(o,l,f,g){Le(0),this.W=o,this.H=l||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=as(this,null,this.W),Vr(this)};function Dr(o){if(ca(o),o.G==3){var l=o.U++,f=yt(o.I);if(ye(f,"SID",o.K),ye(f,"RID",l),ye(f,"TYPE","terminate"),nn(o,f),l=new gt(o,o.j,l),l.L=2,l.v=Sr(yt(f)),f=!1,h.navigator&&h.navigator.sendBeacon)try{f=h.navigator.sendBeacon(l.v.toString(),"")}catch{}!f&&h.Image&&(new Image().src=l.v,f=!0),f||(l.g=cs(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Xn(l)}os(o)}function Pr(o){o.g&&(On(o),o.g.cancel(),o.g=null)}function ca(o){Pr(o),o.u&&(h.clearTimeout(o.u),o.u=null),ar(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&h.clearTimeout(o.s),o.s=null)}function Vr(o){if(!qo(o.h)&&!o.s){o.s=!0;var l=o.Ga;_n||lt(),tn||(_n(),tn=!0),bn.add(l,o),o.B=0}}function ua(o,l){return zo(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=l.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Yn(D(o.Ga,o,l),ss(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let S=new gt(this,this.j,o),x=this.o;if(this.S&&(x?(x=_(x),I(x,this.S)):x=this.S),this.m!==null||this.O||(S.H=x,x=null),this.P)e:{for(var l=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(l+=g,4096<l){l=f;break e}if(l===4096||f===this.i.length-1){l=f+1;break e}}l=1e3}else l=1e3;l=ns(this,S,l),f=yt(this.I),ye(f,"RID",o),ye(f,"CVER",22),this.D&&ye(f,"X-HTTP-Session-Id",this.D),nn(this,f),x&&(this.O?l="headers="+encodeURIComponent(String(na(x)))+"&"+l:this.m&&ts(f,this.m,x)),Ji(this.h,S),this.Ua&&ye(f,"TYPE","init"),this.P?(ye(f,"$req",l),ye(f,"SID","null"),S.T=!0,be(S,f,null)):be(S,f,l),this.G=2}}else this.G==3&&(o?la(this,o):this.i.length==0||qo(this.h)||la(this))};function la(o,l){var f;l?f=l.l:f=o.U++;let g=yt(o.I);ye(g,"SID",o.K),ye(g,"RID",f),ye(g,"AID",o.T),nn(o,g),o.m&&o.o&&ts(g,o.m,o.o),f=new gt(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),l&&(o.i=l.D.concat(o.i)),l=ns(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ji(o.h,f),be(f,g,l)}function nn(o,l){o.H&&me(o.H,function(f,g){ye(l,g,f)}),o.l&&Xi({},function(f,g){ye(l,g,f)})}function ns(o,l,f){f=Math.min(o.i.length,f);var g=o.l?D(o.l.Na,o.l,o):null;e:{var S=o.i;let x=-1;for(;;){let k=["count="+f];x==-1?0<f?(x=S[0].g,k.push("ofs="+x)):x=0:k.push("ofs="+x);let de=!0;for(let Be=0;Be<f;Be++){let te=S[Be].g,Ge=S[Be].map;if(te-=x,0>te)x=Math.max(0,S[Be].g-100),de=!1;else try{yu(Ge,k,"req"+te+"_")}catch{g&&g(Ge)}}if(de){g=k.join("&");break e}}}return o=o.i.splice(0,f),l.D=o,g}function rs(o){if(!o.g&&!o.u){o.Y=1;var l=o.Fa;_n||lt(),tn||(_n(),tn=!0),bn.add(l,o),o.v=0}}function or(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Yn(D(o.Fa,o),ss(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,ha(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Yn(D(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),Pr(this),ha(this))};function On(o){o.A!=null&&(h.clearTimeout(o.A),o.A=null)}function ha(o){o.g=new gt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var l=yt(o.qa);ye(l,"RID","rpc"),ye(l,"SID",o.K),ye(l,"AID",o.T),ye(l,"CI",o.F?"0":"1"),!o.F&&o.ja&&ye(l,"TO",o.ja),ye(l,"TYPE","xmlhttp"),nn(o,l),o.m&&o.o&&ts(l,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Sr(yt(l)),f.m=null,f.P=!0,Lo(f,o)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),or(this),Le(19))};function ar(o){o.C!=null&&(h.clearTimeout(o.C),o.C=null)}function is(o,l){var f=null;if(o.g==l){ar(o),On(o),o.g=null;var g=2}else if(Yi(o.h,l))f=l.D,Go(o.h,l),g=1;else return;if(o.G!=0){if(l.o)if(g==1){f=l.m?l.m.length:0,l=Date.now()-l.F;var S=o.B;g=Ir(),ze(g,new No(g,f)),Vr(o)}else rs(o);else if(S=l.s,S==3||S==0&&0<l.X||!(g==1&&ua(o,l)||g==2&&or(o)))switch(f&&0<f.length&&(l=o.h,l.i=l.i.concat(f)),S){case 1:qt(o,5);break;case 4:qt(o,10);break;case 3:qt(o,6);break;default:qt(o,2)}}}function ss(o,l){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*l}function qt(o,l){if(o.j.info("Error code "+l),l==2){var f=D(o.fb,o),g=o.Xa;let S=!g;g=new st(g||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ar(g,"https"),Sr(g),S?Mn(g.toString(),f):gu(g.toString(),f)}else Le(2);o.G=0,o.l&&o.l.sa(l),os(o),ca(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function os(o){if(o.G=0,o.ka=[],o.l){let l=Ho(o.h);(l.length!=0||o.i.length!=0)&&(M(o.ka,l),M(o.ka,o.i),o.h.i.length=0,j(o.i),o.i.length=0),o.l.ra()}}function as(o,l,f){var g=f instanceof st?yt(f):new st(f);if(g.g!="")l&&(g.g=l+"."+g.g),Dn(g,g.s);else{var S=h.location;g=S.protocol,l=l?l+"."+S.hostname:S.hostname,S=+S.port;var x=new st(null);g&&Ar(x,g),l&&(x.g=l),S&&Dn(x,S),f&&(x.l=f),g=x}return f=o.D,l=o.ya,f&&l&&ye(g,f,l),ye(g,"VER",o.la),nn(o,g),g}function cs(o,l,f){if(l&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=o.Ca&&!o.pa?new Ee(new ot({eb:f})):new Ee(o.pa),l.Ha(o.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function us(){}n=us.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cr(){}cr.prototype.g=function(o,l){return new ke(o,l)};function ke(o,l){Me.call(this),this.g=new sr(l),this.l=o,this.h=l&&l.messageUrlParams||null,o=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(o?o["X-WebChannel-Content-Type"]=l.messageContentType:o={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(o?o["X-WebChannel-Client-Profile"]=l.va:o={"X-WebChannel-Client-Profile":l.va}),this.g.S=o,(o=l&&l.Sb)&&!le(o)&&(this.g.m=o),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!le(l)&&(this.g.D=l,o=this.h,o!==null&&l in o&&(o=this.h,l in o&&delete o[l])),this.j=new Nn(this)}N(ke,Me),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Dr(this.g)},ke.prototype.o=function(o){var l=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=qi(o),o=f);l.i.push(new jo(l.Ya++,o)),l.G==3&&Vr(l)},ke.prototype.N=function(){this.g.l=null,delete this.j,Dr(this.g),delete this.g,ke.aa.N.call(this)};function da(o){zi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var l=o.__sm__;if(l){e:{for(let f in l){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,l=l!==null&&o in l?l[o]:void 0),this.data=l}else this.data=o}N(da,zi);function fa(){Gi.call(this),this.status=1}N(fa,Gi);function Nn(o){this.g=o}N(Nn,us),Nn.prototype.ua=function(){ze(this.g,"a")},Nn.prototype.ta=function(o){ze(this.g,new da(o))},Nn.prototype.sa=function(o){ze(this.g,new fa)},Nn.prototype.ra=function(){ze(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,fh=dn.createWebChannelTransport=function(){return new cr},dh=dn.getStatEventTarget=function(){return Ir()},hh=dn.Event=xt,mc=dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,io=dn.ErrorCode=Cr,Fo.COMPLETE="complete",lh=dn.EventType=Fo,Vo.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Me.prototype.listen=Me.prototype.K,li=dn.WebChannel=Vo,gb=dn.FetchXmlHttpFactory=ot,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,uh=dn.XhrIo=Ee}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});var tg="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var ki="11.0.0";var wr=new ci("@firebase/firestore");function hi(){return wr.logLevel}function B(n,...e){if(wr.logLevel<=re.DEBUG){let t=e.map(Xd);wr.debug(`Firestore (${ki}): ${n}`,...t)}}function mn(n,...e){if(wr.logLevel<=re.ERROR){let t=e.map(Xd);wr.error(`Firestore (${ki}): ${n}`,...t)}}function bi(n,...e){if(wr.logLevel<=re.WARN){let t=e.map(Xd);wr.warn(`Firestore (${ki}): ${n}`,...t)}}function Xd(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+n;throw mn(e),new Error(e)}function Ae(n,e){n||Q()}function se(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _c=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(He.UNAUTHENTICATED))}shutdown(){}},_h=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},bh=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i,i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let d=s;e.enqueueRetryable(()=>L(this,null,function*(){yield d.promise,yield i(this.currentUser)}))},h=d=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?h(d):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new _c(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new He(e)}},Eh=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ih=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Eh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ch=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Th=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ae(this.o===void 0);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new Ch(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yb(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Ah=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ce(n,e){return n<e?-1:n>e?1:0}function Ei(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Y=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ct(0,0))}static max(){return new n(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bc=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(),r===void 0?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Fe=class n extends bc{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class n extends bc{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let h=e[i];if(h==="\\"){if(i+1===e.length)throw new z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(a=!a,i++):h!=="."||a?(r+=h,i++):(s(),i++)}if(s(),a)throw new z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Fe.fromString(e))}static fromName(e){return new n(Fe.fromString(e).popFirst(5))}static empty(){return new n(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Fe(e.slice()))}};var Sh=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Sh.UNKNOWN_ID=-1;function wb(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new _r(i,H.empty(),e)}function _b(n){return new _r(n.readTime,n.key,-1)}var _r=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Y.min(),H.empty(),-1)}static max(){return new n(Y.max(),H.empty(),-1)}};function bb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ce(n.largestBatchId,e.largestBatchId))}var Eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rh=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Kc(n){return L(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==Eb)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(h=>{++i,h.next(()=>{++s,a&&s===i&&t()},d=>r(d))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),h=0;for(let d=0;d<s;d++){let m=d;t(e[m]).next(w=>{a[m]=w,++h,h===s&&r(a)},w=>i(w))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Ib(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oi(n){return n.name==="IndexedDbTransactionError"}var Zd=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Wc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function Cb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ng(e)),e=Tb(n.get(t),e);return ng(e)}function Tb(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function ng(n){return n+""}var Ab=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ET=[...Ab,"documentOverlays"],Sb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rb=Sb,xb=[...Rb,"indexConfiguration","indexState","indexEntries"];var IT=[...xb,"globals"];function rg(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Io(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Db(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mi(this.root,e,this.comparator,!0)}},mi=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jt=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ic(this.data.getIterator())}getIteratorFrom(e){return new Ic(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ic=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gr=class n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new n([])}unionWith(e){let t=new Je(Ot.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ei(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Cc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var it=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cc("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};it.EMPTY_BYTE_STRING=new it("");var Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gn(n){if(Ae(!!n),typeof n=="string"){let e=0,t=Pb.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yn(n){return typeof n=="string"?it.fromBase64String(n):it.fromUint8Array(n)}function ef(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Qc(n){let e=n.mapValue.fields.__previous_value__;return ef(e)?Qc(e):e}function ho(n){let e=gn(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var xh=class{constructor(e,t,r,i,s,a,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}},Tc=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ef(n)?4:Ng(n)?9007199254740991:Og(n)?10:11:Q()}function Zt(n,e){if(n===e)return!0;let t=Hn(n);if(t!==Hn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ho(n).isEqual(ho(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=gn(i.timestampValue),h=gn(s.timestampValue);return a.seconds===h.seconds&&a.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return yn(i.bytesValue).isEqual(yn(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=Ce(i.doubleValue),h=Ce(s.doubleValue);return a===h?Ec(a)===Ec(h):isNaN(a)&&isNaN(h)}return!1}(n,e);case 9:return Ei(n.arrayValue.values||[],e.arrayValue.values||[],Zt);case 10:case 11:return function(i,s){let a=i.mapValue.fields||{},h=s.mapValue.fields||{};if(rg(a)!==rg(h))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(h[d]===void 0||!Zt(a[d],h[d])))return!1;return!0}(n,e);default:return Q()}}function fo(n,e){return(n.values||[]).find(t=>Zt(t,e))!==void 0}function Ii(n,e){if(n===e)return 0;let t=Hn(n),r=Hn(e);if(t!==r)return ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ce(n.booleanValue,e.booleanValue);case 2:return function(s,a){let h=Ce(s.integerValue||s.doubleValue),d=Ce(a.integerValue||a.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return ig(n.timestampValue,e.timestampValue);case 4:return ig(ho(n),ho(e));case 5:return ce(n.stringValue,e.stringValue);case 6:return function(s,a){let h=yn(s),d=yn(a);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let h=s.split("/"),d=a.split("/");for(let m=0;m<h.length&&m<d.length;m++){let w=ce(h[m],d[m]);if(w!==0)return w}return ce(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let h=ce(Ce(s.latitude),Ce(a.latitude));return h!==0?h:ce(Ce(s.longitude),Ce(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sg(n.arrayValue,e.arrayValue);case 10:return function(s,a){var h,d,m,w;let y=s.fields||{},D=a.fields||{},V=(h=y.value)===null||h===void 0?void 0:h.arrayValue,N=(d=D.value)===null||d===void 0?void 0:d.arrayValue,j=ce(((m=V?.values)===null||m===void 0?void 0:m.length)||0,((w=N?.values)===null||w===void 0?void 0:w.length)||0);return j!==0?j:sg(V,N)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===gc.mapValue&&a===gc.mapValue)return 0;if(s===gc.mapValue)return 1;if(a===gc.mapValue)return-1;let h=s.fields||{},d=Object.keys(h),m=a.fields||{},w=Object.keys(m);d.sort(),w.sort();for(let y=0;y<d.length&&y<w.length;++y){let D=ce(d[y],w[y]);if(D!==0)return D;let V=Ii(h[d[y]],m[w[y]]);if(V!==0)return V}return ce(d.length,w.length)}(n.mapValue,e.mapValue);default:throw Q()}}function ig(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ce(n,e);let t=gn(n),r=gn(e),i=ce(t.seconds,r.seconds);return i!==0?i:ce(t.nanos,r.nanos)}function sg(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ii(t[i],r[i]);if(s)return s}return ce(t.length,r.length)}function Ci(n){return Dh(n)}function Dh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yn(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Dh(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${Dh(t.fields[a])}`;return i+"}"}(n.mapValue):Q()}function vc(n){switch(Hn(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Qc(n);return e?16+vc(e):16;case 5:return 2*n.stringValue.length;case 6:return yn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+vc(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Io(r.fields,(s,a)=>{i+=s.length+vc(a)}),i}(n.mapValue);default:throw Q()}}function Ph(n){return!!n&&"integerValue"in n}function tf(n){return!!n&&"arrayValue"in n}function og(n){return!!n&&"nullValue"in n}function ag(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ph(n){return!!n&&"mapValue"in n}function Og(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function oo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=oo(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ng(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach((a,h)=>{if(!t.isImmediateParentOf(h)){let d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}a?r[h.lastSegment()]=oo(a):i.push(h.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Io(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(oo(this.value))}};var Nt=class n{constructor(e,t,r,i,s,a,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=h}static newInvalidDocument(e){return new n(e,0,Y.min(),Y.min(),Y.min(),fn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Y.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Y.min(),Y.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Y.min(),Y.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ti=class{constructor(e,t){this.position=e,this.inclusive=t}};function cg(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(a.referenceValue),t.key):r=Ii(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ug(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zt(n.position[t],e.position[t]))return!1;return!0}var Ai=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Vb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ac=class{},$e=class n extends Ac{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Mh(e,t,r):t==="array-contains"?new Nh(e,r):t==="in"?new Fh(e,r):t==="not-in"?new Lh(e,r):t==="array-contains-any"?new Bh(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kh(e,r):new Oh(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ii(t,this.value)):t!==null&&Hn(this.value)===Hn(t)&&this.matchesComparison(Ii(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},en=class n extends Ac{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Fg(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Fg(n){return n.op==="and"}function Lg(n){return Mb(n)&&Fg(n)}function Mb(n){for(let e of n.filters)if(e instanceof en)return!1;return!0}function Vh(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Ci(n.value);if(Lg(n))return n.filters.map(e=>Vh(e)).join(",");{let e=n.filters.map(t=>Vh(t)).join(",");return`${n.op}(${e})`}}function Bg(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Zt(r.value,i.value)}(n,e):n instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,h)=>s&&Bg(a,i.filters[h]),!0):!1}(n,e):void Q()}function Ug(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${Ci(t.value)}`}(n):n instanceof en?function(t){return t.op.toString()+" {"+t.getFilters().map(Ug).join(" ,")+"}"}(n):"Filter"}var Mh=class extends $e{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},kh=class extends $e{constructor(e,t){super(e,"in",t),this.keys=jg("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Oh=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=jg("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jg(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var Nh=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tf(t)&&fo(t.arrayValue,this.value)}},Fh=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fo(this.value.arrayValue,t)}},Lh=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!fo(this.value.arrayValue,t)}},Bh=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fo(this.value.arrayValue,r))}};var Uh=class{constructor(e,t=null,r=[],i=[],s=null,a=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=h,this.ue=null}};function lg(n,e=null,t=[],r=[],i=null,s=null,a=null){return new Uh(n,e,t,r,i,s,a)}function nf(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ci(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ci(r)).join(",")),e.ue=t}return e.ue}function rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Bg(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ug(n.startAt,e.startAt)&&ug(n.endAt,e.endAt)}function jh(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Si=class{constructor(e,t=null,r=[],i=[],s=null,a="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kb(n,e,t,r,i,s,a,h){return new Si(n,e,t,r,i,s,a,h)}function $g(n){return new Si(n)}function hg(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ob(n){return n.collectionGroup!==null}function ao(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let h=new Je(Ot.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ai(s,r))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new Ai(Ot.keyField(),r))}return e.ce}function Xt(n){let e=se(n);return e.le||(e.le=Nb(e,ao(n))),e.le}function Nb(n,e){if(n.limitType==="F")return lg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ai(i.field,s)});let t=n.endAt?new Ti(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ti(n.startAt.position,n.startAt.inclusive):null;return lg(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $h(n,e,t){return new Si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yc(n,e){return rf(Xt(n),Xt(e))&&n.limitType===e.limitType}function qg(n){return`${nf(Xt(n))}|lt:${n.limitType}`}function di(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Ug(i)).join(", ")}]`),Wc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ci(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ci(i)).join(",")),`Target(${r})`}(Xt(n))}; limitType=${n.limitType})`}function Jc(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,h,d){let m=cg(a,h,d);return a.inclusive?m<=0:m<0}(r.startAt,ao(r),i)||r.endAt&&!function(a,h,d){let m=cg(a,h,d);return a.inclusive?m>=0:m>0}(r.endAt,ao(r),i))}(n,e)}function Fb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zg(n){return(e,t)=>{let r=!1;for(let i of ao(n)){let s=Lb(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lb(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(s,a,h){let d=a.data.field(s),m=h.data.field(s);return d!==null&&m!==null?Ii(d,m):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var vn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Db(this.inner)}size(){return this.innerSize}};var Bb=new Pe(H.comparator);function Kn(){return Bb}var Gg=new Pe(H.comparator);function so(...n){let e=Gg;for(let t of n)e=e.insert(t.key,t);return e}function Ub(n){let e=Gg;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yr(){return co()}function Hg(){return co()}function co(){return new vn(n=>n.toString(),(n,e)=>n.isEqual(e))}var TT=new Pe(H.comparator),jb=new Je(H.comparator);function ue(...n){let e=jb;for(let t of n)e=e.add(t);return e}var $b=new Je(ce);function qb(){return $b}function zb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Gb(n){return{integerValue:""+n}}var Ri=class{constructor(){this._=void 0}};function Hb(n,e,t){return n instanceof po?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ef(s)&&(s=Qc(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof xi?Kg(n,e):n instanceof Di?Wg(n,e):function(i,s){let a=Wb(i,s),h=dg(a)+dg(i.Pe);return Ph(a)&&Ph(i.Pe)?Gb(h):zb(i.serializer,h)}(n,e)}function Kb(n,e,t){return n instanceof xi?Kg(n,e):n instanceof Di?Wg(n,e):t}function Wb(n,e){return n instanceof mo?function(r){return Ph(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var po=class extends Ri{},xi=class extends Ri{constructor(e){super(),this.elements=e}};function Kg(n,e){let t=Qg(e);for(let r of n.elements)t.some(i=>Zt(i,r))||t.push(r);return{arrayValue:{values:t}}}var Di=class extends Ri{constructor(e){super(),this.elements=e}};function Wg(n,e){let t=Qg(e);for(let r of n.elements)t=t.filter(i=>!Zt(i,r));return{arrayValue:{values:t}}}var mo=class extends Ri{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function dg(n){return Ce(n.integerValue||n.doubleValue)}function Qg(n){return tf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Qb(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Di&&i instanceof Di?Ei(r.elements,i.elements,Zt):r instanceof mo&&i instanceof mo?Zt(r.Pe,i.Pe):r instanceof po&&i instanceof po}(n.transform,e.transform)}var uo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var go=class{};function Yg(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qh(n.key,uo.none()):new yo(n.key,n.data,uo.none());{let t=n.data,r=fn.empty(),i=new Je(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Pi(n.key,r,new gr(i.toArray()),uo.none())}}function Yb(n,e,t){n instanceof yo?function(i,s,a){let h=i.value.clone(),d=pg(i.fieldTransforms,s,a.transformResults);h.setAll(d),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Pi?function(i,s,a){if(!wc(i.precondition,s))return void s.convertToUnknownDocument(a.version);let h=pg(i.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(Jg(i)),d.setAll(h),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function lo(n,e,t,r){return n instanceof yo?function(s,a,h,d){if(!wc(s.precondition,a))return h;let m=s.value.clone(),w=mg(s.fieldTransforms,d,a);return m.setAll(w),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pi?function(s,a,h,d){if(!wc(s.precondition,a))return h;let m=mg(s.fieldTransforms,d,a),w=a.data;return w.setAll(Jg(s)),w.setAll(m),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),h===null?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,a,h){return wc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):h}(n,e,t)}function fg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ei(r,i,(s,a)=>Qb(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yo=class extends go{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Pi=class extends go{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Jg(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function pg(n,e,t){let r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,h=e.data.field(s.field);r.set(s.field,Kb(a,h,t[i]))}return r}function mg(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,Hb(s,a,e))}return r}var qh=class extends go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var zh=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Yb(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=lo(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=lo(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Hg();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,h=this.applyToLocalView(a,s.mutatedFields);h=t.has(i.key)?null:h;let d=Yg(a,h);d!==null&&r.set(i.key,d),a.isValidDocument()||a.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ei(this.mutations,e.mutations,(t,r)=>fg(t,r))&&Ei(this.baseMutations,e.baseMutations,(t,r)=>fg(t,r))}};var Gh=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hh=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,ie;function Xg(n){if(n===void 0)return mn("GRPC error has no .code"),O.UNKNOWN;switch(n){case Oe.OK:return O.OK;case Oe.CANCELLED:return O.CANCELLED;case Oe.UNKNOWN:return O.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return O.INTERNAL;case Oe.UNAVAILABLE:return O.UNAVAILABLE;case Oe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Oe.NOT_FOUND:return O.NOT_FOUND;case Oe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Oe.ABORTED:return O.ABORTED;case Oe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Oe.DATA_LOSS:return O.DATA_LOSS;default:return Q()}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var gg=null;function Jb(){return new TextEncoder}var Xb=new Gn([4294967295,4294967295],0);function yg(n){let e=Jb().encode(n),t=new ch;return t.update(e),new Uint8Array(t.digest())}function vg(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gn([t,r],0),new Gn([i,s],0)]}var Kh=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vr(`Invalid padding: ${t}`);if(r<0)throw new vr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vr(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vr(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Gn.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Gn.fromNumber(r)));return i.compare(Xb)===1&&(i=new Gn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=yg(e),[r,i]=vg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(h=>a.insert(h)),a}insert(e){if(this.Ie===0)return;let t=yg(e),[r,i]=vg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sc=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Y.min(),i,new Pe(ce),Kn(),ue())}},vo=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var yi=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Rc=class{constructor(e,t){this.targetId=e,this.me=t}},xc=class{constructor(e,t,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Dc=class{constructor(){this.fe=0,this.ge=_g(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),t=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new vo(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=_g()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Wh=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kn(),this.qe=wg(),this.Qe=new Pe(ce)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(jh(s))if(r===0){let a=new H(s.path);this.Ue(t,a,Nt.newNoDocument(a,Y.min()))}else Ae(r===1);else{let a=this.Ye(t);if(a!==r){let h=this.Ze(e),d=h?this.Xe(h,e,a):1;if(d!==0){this.je(t);let m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}gg?.et(function(w,y,D,V,N){var j,M,Z,le,oe,_e;let Ke={localCacheCount:w,existenceFilterCount:y.count,databaseId:D.database,projectId:D.projectId},me=y.unchangedNames;return me&&(Ke.bloomFilter={applied:N===0,hashCount:(j=me?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(le=(Z=(M=me?.bits)===null||M===void 0?void 0:M.bitmap)===null||Z===void 0?void 0:Z.length)!==null&&le!==void 0?le:0,padding:(_e=(oe=me?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&_e!==void 0?_e:0,mightContain:A=>{var _;return(_=V?.mightContain(A))!==null&&_!==void 0&&_}}),Ke}(a,e.me,this.Le.tt(),h,d))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,h;try{a=yn(r).toUint8Array()}catch(d){if(d instanceof Cc)return bi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Kh(a,i,s)}catch(d){return bi(d instanceof vr?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.tt(),h=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let h=this.Je(a);if(h){if(s.current&&jh(h.target)){let d=new H(h.target.path);this.ke.get(d)!==null||this.it(a,d)||this.Ue(a,d,Nt.newNoDocument(d,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,a)=>{let h=!0;a.forEachWhile(d=>{let m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new Sc(e,t,this.Qe,this.ke,r);return this.ke=Kn(),this.qe=wg(),this.Qe=new Pe(ce),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Dc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Je(ce),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dc),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function wg(){return new Pe(H.comparator)}function _g(){return new Pe(H.comparator)}var Zb={asc:"ASCENDING",desc:"DESCENDING"},eE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tE={and:"AND",or:"OR"},Qh=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Yh(n,e){return n.useProto3Json||Wc(e)?e:{value:e}}function nE(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vi(n){return Ae(!!n),Y.fromTimestamp(function(t){let r=gn(t);return new Ct(r.seconds,r.nanos)}(n))}function iE(n,e){return Jh(n,e).canonicalString()}function Jh(n,e){let t=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Zg(n){let e=Fe.fromString(n);return Ae(iy(e)),e}function mh(n,e){let t=Zg(e);if(t.get(1)!==n.databaseId.projectId)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(ty(t))}function ey(n,e){return iE(n.databaseId,e)}function sE(n){let e=Zg(n);return e.length===4?Fe.emptyPath():ty(e)}function bg(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ty(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function oE(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(m,w){return m.useProto3Json?(Ae(w===void 0||typeof w=="string"),it.fromBase64String(w||"")):(Ae(w===void 0||w instanceof Buffer||w instanceof Uint8Array),it.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,h=a&&function(m){let w=m.code===void 0?O.UNKNOWN:Xg(m.code);return new z(w,m.message||"")}(a);t=new xc(r,i,s,h||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mh(n,r.document.name),s=vi(r.document.updateTime),a=r.document.createTime?vi(r.document.createTime):Y.min(),h=new fn({mapValue:{fields:r.document.fields}}),d=Nt.newFoundDocument(i,s,a,h),m=r.targetIds||[],w=r.removedTargetIds||[];t=new yi(m,w,d.key,d)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mh(n,r.document),s=r.readTime?vi(r.readTime):Y.min(),a=Nt.newNoDocument(i,s),h=r.removedTargetIds||[];t=new yi([],h,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mh(n,r.document),s=r.removedTargetIds||[];t=new yi([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new Hh(i,s),h=r.targetId;t=new Rc(h,a)}}return t}function aE(n,e){return{documents:[ey(n,e.path)]}}function cE(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ey(n,i);let s=function(m){if(m.length!==0)return ry(en.create(m,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(m){if(m.length!==0)return m.map(w=>function(D){return{field:fi(D.field),direction:hE(D.dir)}}(w))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let h=Yh(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:i}}function uE(n){let e=sE(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1);let w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(y){let D=ny(y);return D instanceof en&&Lg(D)?D.getFilters():[D]}(t.where));let a=[];t.orderBy&&(a=function(y){return y.map(D=>function(N){return new Ai(pi(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(D))}(t.orderBy));let h=null;t.limit&&(h=function(y){let D;return D=typeof y=="object"?y.value:y,Wc(D)?null:D}(t.limit));let d=null;t.startAt&&(d=function(y){let D=!!y.before,V=y.values||[];return new Ti(V,D)}(t.startAt));let m=null;return t.endAt&&(m=function(y){let D=!y.before,V=y.values||[];return new Ti(V,D)}(t.endAt)),kb(e,i,a,s,h,"F",d,m)}function lE(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ny(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=pi(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=pi(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=pi(t.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=pi(t.unaryFilter.field);return $e.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(pi(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return en.create(t.compositeFilter.filters.map(r=>ny(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function hE(n){return Zb[n]}function dE(n){return eE[n]}function fE(n){return tE[n]}function fi(n){return{fieldPath:n.canonicalString()}}function pi(n){return Ot.fromServerFormat(n.fieldPath)}function ry(n){return n instanceof $e?function(t){if(t.op==="=="){if(ag(t.value))return{unaryFilter:{field:fi(t.field),op:"IS_NAN"}};if(og(t.value))return{unaryFilter:{field:fi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ag(t.value))return{unaryFilter:{field:fi(t.field),op:"IS_NOT_NAN"}};if(og(t.value))return{unaryFilter:{field:fi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fi(t.field),op:dE(t.op),value:t.value}}}(n):n instanceof en?function(t){let r=t.getFilters().map(i=>ry(i));return r.length===1?r[0]:{compositeFilter:{op:fE(t.op),filters:r}}}(n):Q()}function iy(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var wo=class n{constructor(e,t,r,i,s=Y.min(),a=Y.min(),h=it.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xh=class{constructor(e){this.ct=e}};function pE(n){let e=uE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$h(e,e.limit,"L"):e}var Pc=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ec(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=gn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(yn(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Ng(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Og(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Q()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let a="value",h=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ce(h)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Pc.vt=new Pc;var Zh=class{constructor(){this.un=new ed}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(_r.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},ed=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Je(Fe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Fe.comparator)).toArray()}};var AT=new Uint8Array(0);var Eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},It=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(41943040,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);var _o=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};function Ig([n,e],[t,r]){let i=ce(n,t);return i===0?ce(e,r):i}var td=class{constructor(e){this.Un=e,this.buffer=new Je(Ig),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Ig(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},nd=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>L(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oi(t)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Kc(t)}yield this.Hn(3e5)}))}},rd=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(Zd.oe);let r=new td(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Eg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eg):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,a,h,d,m,w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,h=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),hi()<=re.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-w}ms
	Determined least recently used ${i} in `+(h-a)+`ms
	Removed ${s} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-w}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}};function mE(n,e){return new rd(n,e)}var id=class{constructor(){this.changes=new vn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sd=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var od=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&lo(r.mutation,i,gr.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=yr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=so();return s.forEach((h,d)=>{a=a.insert(h,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=yr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,h)=>{t.set(a,h)})})}computeViews(e,t,r,i){let s=Kn(),a=co(),h=function(){return co()}();return t.forEach((d,m)=>{let w=r.get(m.key);i.has(m.key)&&(w===void 0||w.mutation instanceof Pi)?s=s.insert(m.key,m):w!==void 0?(a.set(m.key,w.mutation.getFieldMask()),lo(w.mutation,m,w.mutation.getFieldMask(),Ct.now())):a.set(m.key,gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((m,w)=>a.set(m,w)),t.forEach((m,w)=>{var y;return h.set(m,new sd(w,(y=a.get(m))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,t){let r=co(),i=new Pe((a,h)=>a-h),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let h of a)h.keys().forEach(d=>{let m=t.get(d);if(m===null)return;let w=r.get(d)||gr.empty();w=h.applyToLocalView(m,w),r.set(d,w);let y=(i.get(h.batchId)||ue()).add(d);i=i.insert(h.batchId,y)})}).next(()=>{let a=[],h=i.getReverseIterator();for(;h.hasNext();){let d=h.getNext(),m=d.key,w=d.value,y=Hg();w.forEach(D=>{if(!s.has(D)){let V=Yg(t.get(D),r.get(D));V!==null&&y.set(D,V),s=s.add(D)}}),a.push(this.documentOverlayCache.saveOverlays(e,m,y))}return P.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return H.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ob(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(yr()),h=-1,d=s;return a.next(m=>P.forEach(m,(w,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),s.get(w)?P.resolve():this.remoteDocumentCache.getEntry(e,w).next(D=>{d=d.insert(w,D)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,d,m,ue())).next(w=>({batchId:h,changes:Ub(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=so();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=so();return this.indexManager.getCollectionParents(e,s).next(h=>P.forEach(h,d=>{let m=function(y,D){return new Si(D,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(w=>{w.forEach((y,D)=>{a=a.insert(y,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((d,m)=>{let w=m.getKey();a.get(w)===null&&(a=a.insert(w,Nt.newInvalidDocument(w)))});let h=so();return a.forEach((d,m)=>{let w=s.get(d);w!==void 0&&lo(w.mutation,m,gr.empty(),Ct.now()),Jc(t,m)&&(h=h.insert(d,m))}),h})}};var ad=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:vi(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:pE(i.bundledQuery),readTime:vi(i.readTime)}}(t)),P.resolve()}};var cd=class{constructor(){this.overlays=new Pe(H.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yr();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=yr(),s=t.length+1,a=new H(t.child("")),h=this.overlays.getIteratorFrom(a);for(;h.hasNext();){let d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Pe((m,w)=>m-w),a=this.overlays.getIterator();for(;a.hasNext();){let m=a.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=s.get(m.largestBatchId);w===null&&(w=yr(),s=s.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}let h=yr(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,w)=>h.set(m,w)),!(h.size()>=i)););return P.resolve(h)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Gh(t,r));let s=this.Ir.get(t);s===void 0&&(s=ue(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var ud=class{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var bo=class{constructor(){this.Tr=new Je(Ne.Er),this.dr=new Je(Ne.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ne(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ne(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new Fe([])),r=new Ne(t,e),i=new Ne(t,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new Fe([])),r=new Ne(t,e),i=new Ne(t,e+1),s=ue();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Ne(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ce(e.wr,t.wr)}static Ar(e,t){return ce(e.wr,t.wr)||H.comparator(e.key,t.key)}};var ld=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Je(Ne.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new zh(s,t,r,i);this.mutationQueue.push(a);for(let h of i)this.br=this.br.add(new Ne(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ne(t,0),i=new Ne(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{let h=this.Dr(a.wr);s.push(h)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Je(ce);return t.forEach(i=>{let s=new Ne(i,0),a=new Ne(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],h=>{r=r.add(h.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let a=new Ne(new H(s),0),h=new Je(ce);return this.br.forEachWhile(d=>{let m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(h=h.add(d.wr)),!0)},a),P.resolve(this.Cr(h))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let s=new Ne(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ne(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hd=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(t))}getEntries(e,t){let r=Kn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Kn(),a=t.path,h=new H(a.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){let{key:m,value:{document:w}}=d.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||bb(_b(w),r)<=0||(i.has(w.key)||Jc(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Q()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dd(this)}getSize(e){return P.resolve(this.size)}},dd=class extends id{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var fd=class{constructor(e){this.persistence=e,this.Nr=new vn(t=>nf(t),rf),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bo,this.targetCount=0,this.kr=_o.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((a,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var Vc=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Zd(0),this.Kr=!1,this.Kr=!0,this.$r=new ud,this.referenceDelegate=e(this),this.Ur=new fd(this),this.indexManager=new Zh,this.remoteDocumentCache=function(i){return new hd(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Xh(t),this.Gr=new ad(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new ld(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new pd(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},pd=class extends Rh{constructor(e){super(),this.currentSequenceNumber=e}},md=class n{constructor(e){this.persistence=e,this.Jr=new bo,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Y.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}},Mc=class n{constructor(e,t){this.persistence=e,this.ti=new vn(r=>Cb(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mE(this,t)}static Zr(e,t){return new n(e,t)}zr(){}jr(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){let t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}Zn(e,t){return P.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,a=>this.nr(e,a,t).next(h=>{h||(r++,s.removeEntry(a,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ti.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.ti.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),P.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vc(e.data.value)),t}nr(e,t,r){return P.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.ti.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var gd=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ue(),i=ue();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var yd=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vd=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Mm()?8:Ib(Vm())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new yd;return this.Xi(e,t,a).next(h=>{if(s.result=h,this.zi)return this.es(e,t,a,h.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(hi()<=re.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",di(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(hi()<=re.DEBUG&&B("QueryEngine","Query:",di(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hi()<=re.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",di(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xt(t))):P.resolve())}Yi(e,t){if(hg(t))return P.resolve(null);let r=Xt(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$h(t,null,"F"),r=Xt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=ue(...s);return this.Ji.getDocuments(e,a).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{let m=this.ts(t,h);return this.ns(t,m,a,d.readTime)?this.Yi(e,$h(t,null,"F")):this.rs(e,m,t,d)}))})))}Zi(e,t,r,i){return hg(t)||i.isEqual(Y.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let a=this.ts(t,s);return this.ns(t,a,r,i)?P.resolve(null):(hi()<=re.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),di(t)),this.rs(e,a,t,wb(i,-1)).next(h=>h))})}ts(e,t){let r=new Je(zg(e));return t.forEach((i,s)=>{Jc(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return hi()<=re.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",di(t)),this.Ji.getDocumentsMatchingQuery(e,t,_r.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var wd=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Pe(ce),this._s=new vn(s=>nf(s),rf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new od(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function gE(n,e,t,r){return new wd(n,e,t,r)}function sy(n,e){return L(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],h=[],d=ue();for(let m of i){a.push(m.batchId);for(let w of m.mutations)d=d.add(w.key)}for(let m of s){h.push(m.batchId);for(let w of m.mutations)d=d.add(w.key)}return t.localDocuments.getDocuments(r,d).next(m=>({hs:m,removedBatchIds:a,addedBatchIds:h}))})})})}function oy(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function yE(n,e){let t=se(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let h=[];e.targetChanges.forEach((w,y)=>{let D=i.get(y);if(!D)return;h.push(t.Ur.removeMatchingKeys(s,w.removedDocuments,y).next(()=>t.Ur.addMatchingKeys(s,w.addedDocuments,y)));let V=D.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?V=V.withResumeToken(it.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),i=i.insert(y,V),function(j,M,Z){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(D,V,w)&&h.push(t.Ur.updateTargetData(s,V))});let d=Kn(),m=ue();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(vE(s,a,e.documentUpdates).next(w=>{d=w.Ps,m=w.Is})),!r.isEqual(Y.min())){let w=t.Ur.getLastRemoteSnapshotVersion(s).next(y=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(w)}return P.waitFor(h).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,m)).next(()=>d)}).then(s=>(t.os=i,s))}function vE(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Kn();return t.forEach((h,d)=>{let m=s.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Y.min())?(e.removeEntry(h,d.readTime),a=a.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),a=a.insert(h,d)):B("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ps:a,Is:i}})}function wE(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.Ur.allocateTargetId(r).next(a=>(i=new wo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function _d(n,e,t){return L(this,null,function*(){let r=se(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Oi(a))throw a;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Cg(n,e,t){let r=se(n),i=Y.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",a=>function(d,m,w){let y=se(d),D=y._s.get(w);return D!==void 0?P.resolve(y.os.get(D)):y.Ur.getTargetData(m,w)}(r,a,Xt(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,h.targetId).next(d=>{s=d})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,t?i:Y.min(),t?s:ue())).next(h=>(_E(r,Fb(e),h),{documents:h,Ts:s})))}function _E(n,e,t){let r=n.us.get(e)||Y.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var kc=class{constructor(){this.activeTargetIds=qb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var bd=class{constructor(){this.so=new kc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new kc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ed=class{_o(e){}shutdown(){}};var Oc=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yc=null;function gh(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}var bE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Id=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",Cd=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,a){let h=gh(),d=this.xo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${h}:`,d,i);let m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,s,a),this.No(t,d,m,i).then(w=>(B("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw bi("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",d,"request:",i),w})}Lo(t,r,i,s,a,h){return this.Mo(t,r,i,s,a)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}xo(t,r){let i=bE[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=gh();return new Promise((a,h)=>{let d=new uh;d.setWithCredentials(!0),d.listenOnce(lh.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case io.NO_ERROR:let w=d.getResponseJson();B(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),a(w);break;case io.TIMEOUT:B(rt,`RPC '${e}' ${s} timed out`),h(new z(O.DEADLINE_EXCEEDED,"Request time out"));break;case io.HTTP_ERROR:let y=d.getStatus();if(B(rt,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let D=d.getResponseJson();Array.isArray(D)&&(D=D[0]);let V=D?.error;if(V&&V.status&&V.message){let N=function(M){let Z=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(Z)>=0?Z:O.UNKNOWN}(V.status);h(new z(N,V.message))}else h(new z(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new z(O.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(rt,`RPC '${e}' ${s} completed.`)}});let m=JSON.stringify(i);B(rt,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",m,r,15)})}Bo(e,t,r){let i=gh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fh(),h=dh(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;let w=s.join("");B(rt,`Creating RPC '${e}' stream ${i}: ${w}`,d);let y=a.createWebChannel(w,d),D=!1,V=!1,N=new Id({Io:M=>{V?B(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(D||(B(rt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),D=!0),B(rt,`RPC '${e}' stream ${i} sending:`,M),y.send(M))},To:()=>y.close()}),j=(M,Z,le)=>{M.listen(Z,oe=>{try{le(oe)}catch(_e){setTimeout(()=>{throw _e},0)}})};return j(y,li.EventType.OPEN,()=>{V||(B(rt,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),j(y,li.EventType.CLOSE,()=>{V||(V=!0,B(rt,`RPC '${e}' stream ${i} transport closed`),N.So())}),j(y,li.EventType.ERROR,M=>{V||(V=!0,bi(rt,`RPC '${e}' stream ${i} transport errored:`,M),N.So(new z(O.UNAVAILABLE,"The operation could not be completed")))}),j(y,li.EventType.MESSAGE,M=>{var Z;if(!V){let le=M.data[0];Ae(!!le);let oe=le,_e=oe.error||((Z=oe[0])===null||Z===void 0?void 0:Z.error);if(_e){B(rt,`RPC '${e}' stream ${i} received error:`,_e);let Ke=_e.status,me=function(b){let I=Oe[b];if(I!==void 0)return Xg(I)}(Ke),A=_e.message;me===void 0&&(me=O.INTERNAL,A="Unknown error status: "+Ke+" with message "+_e.message),V=!0,N.So(new z(me,A)),y.close()}else B(rt,`RPC '${e}' stream ${i} received:`,le),N.bo(le)}}),j(h,hh.STAT_EVENT,M=>{M.stat===mc.PROXY?B(rt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===mc.NOPROXY&&B(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function yh(){return typeof document<"u"?document:null}function ay(n){return new Qh(n,!0)}var Nc=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Td=class{constructor(e,t,r,i,s,a,h,d){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nc(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(mn(t.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ad=class extends Td{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=oE(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?vi(a.readTime):Y.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=bg(this.serializer),t.addTarget=function(s,a){let h,d=a.target;if(h=jh(d)?{documents:aE(s,d)}:{query:cE(s,d)._t},h.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){h.resumeToken=rE(s,a.resumeToken);let m=Yh(s,a.expectedCount);m!==null&&(h.expectedCount=m)}else if(a.snapshotVersion.compareTo(Y.min())>0){h.readTime=nE(s,a.snapshotVersion.toTimestamp());let m=Yh(s,a.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);let r=lE(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=bg(this.serializer),t.removeTarget=e,this.a_(t)}};var Sd=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Jh(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(O.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,h])=>this.connection.Lo(e,Jh(t,r),i,a,h,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new z(O.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Rd=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mn(t),this.D_=!1):B("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var xd=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(()=>L(this,null,function*(){To(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(d){return L(this,null,function*(){let m=se(d);m.L_.add(4),yield Co(m),m.q_.set("Unknown"),m.L_.delete(4),yield Xc(m)})}(this))}))}),this.q_=new Rd(r,i)}};function Xc(n){return L(this,null,function*(){if(To(n))for(let e of n.B_)yield e(!0)})}function Co(n){return L(this,null,function*(){for(let e of n.B_)yield e(!1)})}function cy(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),cf(t)?af(t):Ni(t).r_()&&of(t,e))}function sf(n,e){let t=se(n),r=Ni(t);t.N_.delete(e),r.r_()&&uy(t,e),t.N_.size===0&&(r.r_()?r.o_():To(t)&&t.q_.set("Unknown"))}function of(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ni(n).A_(e)}function uy(n,e){n.Q_.xe(e),Ni(n).R_(e)}function af(n){n.Q_=new Wh({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ni(n).start(),n.q_.v_()}function cf(n){return To(n)&&!Ni(n).n_()&&n.N_.size>0}function To(n){return se(n).L_.size===0}function ly(n){n.Q_=void 0}function EE(n){return L(this,null,function*(){n.q_.set("Online")})}function IE(n){return L(this,null,function*(){n.N_.forEach((e,t)=>{of(n,e)})})}function CE(n,e){return L(this,null,function*(){ly(n),cf(n)?(n.q_.M_(e),af(n)):n.q_.set("Unknown")})}function TE(n,e,t){return L(this,null,function*(){if(n.q_.set("Online"),e instanceof xc&&e.state===2&&e.cause)try{yield function(i,s){return L(this,null,function*(){let a=s.cause;for(let h of s.targetIds)i.N_.has(h)&&(yield i.remoteSyncer.rejectListen(h,a),i.N_.delete(h),i.Q_.removeTarget(h))})}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tg(n,r)}else if(e instanceof yi?n.Q_.Ke(e):e instanceof Rc?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Y.min()))try{let r=yield oy(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let h=s.Q_.rt(a);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){let w=s.N_.get(m);w&&s.N_.set(m,w.withResumeToken(d.resumeToken,a))}}),h.targetMismatches.forEach((d,m)=>{let w=s.N_.get(d);if(!w)return;s.N_.set(d,w.withResumeToken(it.EMPTY_BYTE_STRING,w.snapshotVersion)),uy(s,d);let y=new wo(w.target,d,m,w.sequenceNumber);of(s,y)}),s.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield Tg(n,r)}})}function Tg(n,e,t){return L(this,null,function*(){if(!Oi(e))throw e;n.L_.add(1),yield Co(n),n.q_.set("Offline"),t||(t=()=>oy(n.localStore)),n.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Xc(n)}))})}function Ag(n,e){return L(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=To(t);t.L_.add(3),yield Co(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Xc(t)})}function AE(n,e){return L(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield Xc(t)):e||(t.L_.add(2),yield Co(t),t.q_.set("Unknown"))})}function Ni(n){return n.K_||(n.K_=function(t,r,i){let s=se(t);return s.w_(),new Ad(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:EE.bind(null,n),Ro:IE.bind(null,n),mo:CE.bind(null,n),d_:TE.bind(null,n)}),n.B_.push(e=>L(this,null,function*(){e?(n.K_.s_(),cf(n)?af(n):n.q_.set("Unknown")):(yield n.K_.stop(),ly(n))}))),n.K_}var Dd=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,h=new n(e,t,a,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hy(n,e){if(mn("AsyncQueue",`${e}: ${n}`),Oi(n))return new z(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Fc=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=so(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Lc=class{constructor(){this.W_=new Pe(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Vi=class n{constructor(e,t,r,i,s,a,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(h=>{a.push({type:0,doc:h})}),new n(e,t,Fc.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Pd=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Vd=class{constructor(){this.queries=Sg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=se(t),s=i.queries;i.queries=Sg(),s.forEach((a,h)=>{for(let d of h.j_)d.onError(r)})})(this,new z(O.ABORTED,"Firestore shutting down"))}};function Sg(){return new vn(n=>qg(n),Yc)}function SE(n,e){return L(this,null,function*(){let t=se(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Pd,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let h=hy(a,`Initialization of query '${di(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&uf(t)})}function RE(n,e){return L(this,null,function*(){let t=se(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function xE(n,e){let t=se(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let h of a.j_)h.X_(i)&&(r=!0);a.z_=i}}r&&uf(t)}function DE(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function uf(n){n.Y_.forEach(e=>{e.next()})}var Md,Rg;(Rg=Md||(Md={})).ea="default",Rg.Cache="cache";var kd=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Md.Cache}};var Bc=class{constructor(e){this.key=e}},Uc=class{constructor(e){this.key=e}},Od=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=zg(e),this.Ra=new Fc(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Lc,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,a=i,h=!1,d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,y)=>{let D=i.get(w),V=Jc(this.query,y)?y:null,N=!!D&&this.mutatedKeys.has(D.key),j=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations),M=!1;D&&V?D.data.isEqual(V.data)?N!==j&&(r.track({type:3,doc:V}),M=!0):this.ga(D,V)||(r.track({type:2,doc:V}),M=!0,(d&&this.Aa(V,d)>0||m&&this.Aa(V,m)<0)&&(h=!0)):!D&&V?(r.track({type:0,doc:V}),M=!0):D&&!V&&(r.track({type:1,doc:D}),M=!0,(d||m)&&(h=!0)),M&&(V?(a=a.add(V),s=j?s.add(w):s.delete(w)):(a=a.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let w=this.query.limitType==="F"?a.last():a.first();a=a.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Ra:a,fa:r,ns:h,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((w,y)=>function(V,N){let j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return j(V)-j(N)}(w.type,y.type)||this.Aa(w.doc,y.doc)),this.pa(r),i=i!=null&&i;let h=t&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,m=d!==this.Ea;return this.Ea=d,a.length!==0||m?{snapshot:new Vi(this.query,e.Ra,s,a,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Uc(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Bc(r))}),t}ba(e){this.Ta=e.Ts,this.da=ue();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Vi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Nd=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Fd=class{constructor(e){this.key=e,this.va=!1}},Ld=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new vn(h=>qg(h),Yc),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(H.comparator),this.Na=new Map,this.La=new bo,this.Ba={},this.ka=new Map,this.qa=_o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function PE(n,e,t=!0){return L(this,null,function*(){let r=gy(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield dy(r,e,t,!0),i})}function VE(n,e){return L(this,null,function*(){let t=gy(n);yield dy(t,e,!0,!1)})}function dy(n,e,t,r){return L(this,null,function*(){let i=yield wE(n.localStore,Xt(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),h;return r&&(h=yield ME(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&cy(n.remoteStore,i),h})}function ME(n,e,t,r,i){return L(this,null,function*(){n.Ka=(y,D,V)=>function(j,M,Z,le){return L(this,null,function*(){let oe=M.view.ma(Z);oe.ns&&(oe=yield Cg(j.localStore,M.query,!1).then(({documents:A})=>M.view.ma(A,oe)));let _e=le&&le.targetChanges.get(M.targetId),Ke=le&&le.targetMismatches.get(M.targetId)!=null,me=M.view.applyChanges(oe,j.isPrimaryClient,_e,Ke);return Dg(j,M.targetId,me.wa),me.snapshot})}(n,y,D,V);let s=yield Cg(n.localStore,e,!0),a=new Od(e,s.Ts),h=a.ma(s.documents),d=vo.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=a.applyChanges(h,n.isPrimaryClient,d);Dg(n,t,m.wa);let w=new Nd(e,t,a);return n.Fa.set(e,w),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot})}function kE(n,e,t){return L(this,null,function*(){let r=se(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Yc(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _d(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&sf(r.remoteStore,i.targetId),Bd(r,i.targetId)}).catch(Kc))):(Bd(r,i.targetId),yield _d(r.localStore,i.targetId,!0))})}function OE(n,e){return L(this,null,function*(){let t=se(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sf(t.remoteStore,r.targetId))})}function fy(n,e){return L(this,null,function*(){let t=se(n);try{let r=yield yE(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Na.get(s);a&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ae(a.va):i.removedDocuments.size>0&&(Ae(a.va),a.va=!1))}),yield my(t,r,e)}catch(r){yield Kc(r)}})}function xg(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,a)=>{let h=a.view.Z_(e);h.snapshot&&i.push(h.snapshot)}),function(a,h){let d=se(a);d.onlineState=h;let m=!1;d.queries.forEach((w,y)=>{for(let D of y.j_)D.Z_(h)&&(m=!0)}),m&&uf(d)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NE(n,e,t){return L(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let a=new Pe(H.comparator);a=a.insert(s,Nt.newNoDocument(s,Y.min()));let h=ue().add(s),d=new Sc(Y.min(),new Map,new Pe(ce),a,h);yield fy(r,d),r.Oa=r.Oa.remove(s),r.Na.delete(e),lf(r)}else yield _d(r.localStore,e,!1).then(()=>Bd(r,e,t)).catch(Kc)})}function Bd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||py(n,r)})}function py(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(sf(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),lf(n))}function Dg(n,e,t){for(let r of t)r instanceof Bc?(n.La.addReference(r.key,e),FE(n,r)):r instanceof Uc?(B("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||py(n,r.key)):Q()}function FE(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(B("SyncEngine","New document in limbo: "+t),n.xa.add(r),lf(n))}function lf(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(Fe.fromString(e)),r=n.qa.next();n.Na.set(r,new Fd(t)),n.Oa=n.Oa.insert(t,r),cy(n.remoteStore,new wo(Xt($g(t.path)),r,"TargetPurposeLimboResolution",Zd.oe))}}function my(n,e,t){return L(this,null,function*(){let r=se(n),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((h,d)=>{a.push(r.Ka(d,e,t).then(m=>{var w;if((m||t)&&r.isPrimaryClient){let y=m?!m.fromCache:(w=t?.targetChanges.get(d.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){i.push(m);let y=gd.Wi(d.targetId,m);s.push(y)}}))}),yield Promise.all(a),r.Ca.d_(i),yield function(d,m){return L(this,null,function*(){let w=se(d);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>P.forEach(m,D=>P.forEach(D.$i,V=>w.persistence.referenceDelegate.addReference(y,D.targetId,V)).next(()=>P.forEach(D.Ui,V=>w.persistence.referenceDelegate.removeReference(y,D.targetId,V)))))}catch(y){if(!Oi(y))throw y;B("LocalStore","Failed to update sequence numbers: "+y)}for(let y of m){let D=y.targetId;if(!y.fromCache){let V=w.os.get(D),N=V.snapshotVersion,j=V.withLastLimboFreeSnapshotVersion(N);w.os=w.os.insert(D,j)}}})}(r.localStore,s))})}function LE(n,e){return L(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield sy(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(h=>{h.forEach(d=>{d.reject(new z(O.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield my(t,r.hs)}})}function BE(n,e){let t=se(n),r=t.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=t.Ma.get(e);if(!s)return i;for(let a of s){let h=t.Fa.get(a);i=i.unionWith(h.view.Va)}return i}}function gy(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NE.bind(null,e),e.Ca.d_=xE.bind(null,e.eventManager),e.Ca.$a=DE.bind(null,e.eventManager),e}var yy=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return L(this,null,function*(){this.serializer=ay(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return gE(this.persistence,new vd,t.initialUser,this.serializer)}Ga(t){return new Vc(md.Zr,this.serializer)}Wa(t){return new bd}terminate(){return L(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Ud=class extends yy{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){Ae(this.persistence.referenceDelegate instanceof Mc);let r=this.persistence.referenceDelegate.garbageCollector;return new nd(r,e.asyncQueue,t)}Ga(e){let t=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new Vc(r=>Mc.Zr(r,t),this.serializer)}};var UE=(()=>{class n{initialize(t,r){return L(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LE.bind(null,this.syncEngine),yield AE(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Vd}()}createDatastore(t){let r=ay(t.databaseInfo.databaseId),i=function(a){return new Cd(a)}(t.databaseInfo);return function(a,h,d,m){return new Sd(a,h,d,m)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,a,h,d){return new xd(i,s,a,h,d)}(this.localStore,this.datastore,t.asyncQueue,r=>xg(this.syncEngine,r,0),function(){return Oc.D()?new Oc:new Ed}())}createSyncEngine(t,r){return function(s,a,h,d,m,w,y){let D=new Ld(s,a,h,d,m,w);return y&&(D.Qa=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return L(this,null,function*(){var t,r;yield function(s){return L(this,null,function*(){let a=se(s);B("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield Co(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var jd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var $d=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Ah.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,a=>L(this,null,function*(){B("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(B("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=hy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vh(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield sy(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Pg(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield jE(n);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ag(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ag(e.remoteStore,i)),n._onlineComponents=e})}function jE(n){return L(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vh(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;bi("Error using user provided cache. Falling back to memory cache: "+t),yield vh(n,new yy)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield vh(n,new Ud(void 0));return n._offlineComponents})}function $E(n){return L(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield Pg(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield Pg(n,new UE))),n._onlineComponents})}function qE(n){return L(this,null,function*(){let e=yield $E(n),t=e.eventManager;return t.onListen=PE.bind(null,e.syncEngine),t.onUnlisten=kE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OE.bind(null,e.syncEngine),t})}function zE(n,e,t={}){let r=new pn;return n.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(s,a,h,d,m){let w=new jd({next:D=>{w.Za(),a.enqueueAndForget(()=>RE(s,y)),D.fromCache&&d.source==="server"?m.reject(new z(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),y=new kd(h,w,{includeMetadataChanges:!0,_a:!0});return SE(s,y)}(yield qE(n),n.asyncQueue,e,t,r)})),r.promise}function vy(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Vg=new Map;function GE(n,e,t){if(!t)throw new z(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HE(n,e,t,r){if(e===!0&&r===!0)throw new z(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Mg(n){if(H.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function qd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=KE(n);throw new z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jc=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wh;switch(r.type){case"firstParty":return new Ih(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Vg.get(t);r&&(B("ComponentProvider","Removing Datastore"),Vg.delete(t),r.terminate())}(this),Promise.resolve()}};function WE(n,e,t,r={}){var i;let s=(n=qd(n,Eo))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=He.MOCK_USER;else{h=Pm(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new He(m)}n._authCredentials=new _h(new _c(h,d))}}var $c=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Mi=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},wi=class n extends $c{constructor(e,t,r){super(e,t,$g(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function wy(n,e,...t){if(n=Om(n),GE("collection","path",e),n instanceof Eo){let r=Fe.fromString(e,...t);return Mg(r),new wi(n,null,r)}{if(!(n instanceof Mi||n instanceof wi))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return Mg(r),new wi(n.firestore,null,r)}}var qc=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Nc(this,"async_queue_retry"),this.Vu=()=>{let r=yh();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=yh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=yh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Oi(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let h=a.message||"";return a.stack&&(h=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),h}(r);throw mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Dd.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Q()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var zc=class extends Eo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qc,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qc(e),this._firestoreClient=void 0,yield e}})}};function _y(n,e){let t=typeof n=="object"?n:Ym(),r=typeof n=="string"?n:e||"(default)",i=Wm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Dm("firestore");s&&WE(i,...s)}return i}function QE(n){if(n._terminated)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YE(n),n._firestoreClient}function YE(n){var e,t,r;let i=n._freezeSettings(),s=function(h,d,m,w){return new xh(h,d,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,vy(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new $d(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(h){let d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(n._componentsProvider))}var zd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(it.fromBase64String(e))}catch(t){throw new z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var Hd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var JE=new RegExp("[~\\*/\\[\\]]");function XE(n,e,t){if(e.search(JE)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kg(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${r}`),a&&(d+=` in document ${i}`),d+=")"),new z(O.INVALID_ARGUMENT,h+n+d)}var Hc=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Kd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(by("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Kd=class extends Hc{data(){return super.data()}};function by(n,e){return typeof e=="string"?XE(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}function ZE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wd=class{convertValue(e,t="none"){switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Io(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ce(a.doubleValue));return new Hd(s)}convertGeoPoint(e){return new Gd(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Qc(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){let t=gn(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Fe.fromString(e);Ae(iy(r));let i=new Tc(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var gi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qd=class extends Hc{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(by("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_i=class extends Qd{data(e={}){return super.data(e)}},Yd=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _i(this._firestore,this._userDataWriter,r.key,r,new gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(h=>{let d=new _i(i._firestore,i._userDataWriter,h.doc.key,h.doc,new gi(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>s||h.type!==3).map(h=>{let d=new _i(i._firestore,i._userDataWriter,h.doc.key,h.doc,new gi(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),m=-1,w=-1;return h.type!==0&&(m=a.indexOf(h.doc.key),a=a.delete(h.doc.key)),h.type!==1&&(a=a.add(h.doc),w=a.indexOf(h.doc.key)),{type:eI(h.type),doc:d,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Jd=class extends Wd{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}};function Ey(n){n=qd(n,$c);let e=qd(n.firestore,zc),t=QE(e),r=new Jd(e);return ZE(n._query),zE(t,n._query).then(i=>new Yd(e,r,n,i))}(function(e,t=!0){(function(i){ki=i})(Qm),no(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),h=new zc(new bh(r.getProvider("auth-internal")),new Th(r.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(m.options.projectId,w)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),ui(tg,"4.7.4",e),ui(tg,"4.7.4","esm2017")})();var Fi=class n{plugins=[];app;db;constructor(){let e={apiKey:"AIzaSyDa7zcud3VWxQ4REUHJcCcN-e92zFFmtzY",authDomain:"sp4cew4lk-b344a.firebaseapp.com",projectId:"sp4cew4lk-b344a",storageBucket:"sp4cew4lk-b344a.appspot.com",messagingSenderId:"710015691635",appId:"1:710015691635:web:82defd85c2347ed71a7306"};this.app=ah(e),console.log(this.app),this.db=_y(this.app),L(this,null,function*(){try{(yield Ey(wy(this.db,"plugins"))).forEach(i=>{let s=i.data();this.plugins.push(s),console.log(s)})}catch(r){console.error("Error getting plugins: ",r)}}),console.log(this.db)}items=[{id:64,title:"calm\u2122",author:"spacewalk",description:"calm is a recreation of soothe 2's sidechain feature within FL Studio. No extra downloads or installtion required. Simply drag and drop the preset on a mixer channel, send a side chain input, and dial in your desired sound!",image:"calm.png",price:"$5",facts:["works with FL Studio 20.8 and above","no installation necessary","dynamically EQ key frequencies of a vocal or other sound out of a competing sound"]},{id:123,title:"Another One",author:"spacewalk",description:"another one made by space walk",image:"calm.png",price:"$5",facts:["not made yet","will be cool","super sick"]}];getItem(e){console.log(e);for(let t of this.plugins)if(t.id==e)return console.log(t),t;return console.log(null),null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})};var tI=(n,e)=>e.id;function nI(n,e){if(n&1){let t=zr();$(0,"div",3),ut("click",function(){let i=Lr(t).$implicit,s=bs();return Br(s.goToItem(i.id))}),$(1,"div",4),G(2),q(),ne(3,"img",5),$(4,"div",6),G(5),q()()}if(n&2){let t=e.$implicit;je(2),Gr(t.title),je(),Ta("src",t.image,$r),je(2),Gr(t.price)}}var Zc=class n{constructor(e){this.router=e}itemsService=K(Fi);plugins=[];ngOnInit(){this.plugins=this.itemsService.plugins}goToItem(e){this.router.navigate(["/shop",e])}static \u0275fac=function(t){return new(t||n)(he(ri))};static \u0275cmp=tt({type:n,selectors:[["app-shop"]],standalone:!0,features:[nt],decls:8,vars:0,consts:[[1,"shopContainer"],[1,"shopItem"],[2,"grid-row","1/4","align-self","center"],[1,"shopItem",3,"click"],[1,"title"],[3,"src"],[1,"price"]],template:function(t,r){t&1&&($(0,"div",0),Ia(1,nI,6,3,"div",1,tI),$(3,"div",1)(4,"h3",2),G(5,"More Coming Soon"),ne(6,"br"),G(7,"+"),q()()()),t&2&&(je(),Ca(r.plugins))},styles:[".shopContainer[_ngcontent-%COMP%]{display:grid;width:90%;gap:20px;box-sizing:border-box;padding:20px;margin:auto}.shopItem[_ngcontent-%COMP%]{background-color:#ffffff80;height:400px;display:grid;align-content:center;grid-template-rows:15% 70% 15%}.shopItem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto}.price[_ngcontent-%COMP%]{text-align:right;padding:20px;box-sizing:border-box;font-size:25px;align-self:center}.title[_ngcontent-%COMP%]{font-size:25px;font-weight:700;align-self:center}@media (min-width:600px){.shopContainer[_ngcontent-%COMP%]{width:80%;grid-template-columns:1fr 1fr}}@media (min-width:1000px){.shopContainer[_ngcontent-%COMP%]{width:60%;grid-template-columns:1fr 1fr 1fr}}"]})};function rI(n,e){if(n&1&&($(0,"li"),G(1),q()),n&2){let t=e.$implicit;je(),Gr(t)}}function iI(n,e){if(n&1){let t=zr();$(0,"div",3)(1,"div",4)(2,"h1"),G(3),q(),$(4,"h2"),G(5),q()(),$(6,"div",5),ne(7,"img",6),q(),$(8,"div",7),G(9),q(),$(10,"div",8)(11,"ul"),Ia(12,rI,2,1,"li",null,Hf),q()(),$(14,"div",9),ne(15,"video"),q(),$(16,"div",10),G(17," BUY NOW! "),q(),$(18,"div",11),ut("click",function(){Lr(t);let i=bs();return Br(i.goToManifesto())}),ne(19,"img",12),q()()}if(n&2){let t=bs();je(3),Gr(t.item.title),je(2),Es("by ",t.item.author,""),je(2),Ta("src",t.item.image,$r),je(2),Es(" ",t.item.description," "),je(3),Ca(t.item.facts)}}function sI(n,e){n&1&&($(0,"div"),G(1," Plugin Not Found, Please Check ID "),q())}var eu=class n{constructor(e){this.route=e}id;itemsService=K(Fi);item;getItem(e){this.item=this.itemsService.getItem(e)}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id,this.getItem(this.id)})}goToManifesto(){window.open("https://www.marxists.org/archive/marx/works/1848/communist-manifesto/","_blank")}static \u0275fac=function(t){return new(t||n)(he(cn))};static \u0275cmp=tt({type:n,selectors:[["app-shop-item"]],standalone:!0,features:[nt],decls:5,vars:1,consts:[[1,"pageContainer"],["routerLink","..",1,"back"],["src","skulback.gif"],[1,"grid"],[1,"title"],[1,"pluginCard"],[3,"src"],[1,"description"],[1,"about"],[1,"video"],[1,"buy"],[1,"ad",3,"click"],["src","ad.gif"]],template:function(t,r){t&1&&($(0,"div",0)(1,"a",1),ne(2,"img",2),q(),zf(3,iI,20,4,"div",3)(4,sI,2,0,"div"),q()),t&2&&(je(3),Gf(r.item?3:4))},dependencies:[ti],styles:[".about[_ngcontent-%COMP%]{background-color:#ffffff80;text-align:left;padding:30px;box-sizing:border-box}.ad[_ngcontent-%COMP%]{cursor:pointer}.ad[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{margin:5px;color:#fff;text-decoration:none;display:block;height:50px}.buy[_ngcontent-%COMP%]{background-image:linear-gradient(#fff202,#ffbb1b);color:#000;font-size:3em;height:100%;display:flex;flex-direction:column;justify-content:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.buy[_ngcontent-%COMP%]:active{background-image:linear-gradient(#ffbb1b,#fff202);color:gray}.description[_ngcontent-%COMP%]{background-color:#ffffff80;text-align:left;padding:30px}.grid[_ngcontent-%COMP%]{display:grid;gap:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{height:100%;max-width:100%}.pageContainer[_ngcontent-%COMP%]{text-align:center;margin:auto;box-sizing:border-box;font-size:1.2em}.pluginCard[_ngcontent-%COMP%]{background-color:#ffffff80;color:#000;margin:0;height:100%;box-sizing:border-box}.title[_ngcontent-%COMP%]{background-color:#ffffff80;height:100%;display:flex;flex-direction:column;justify-content:center}ul[_ngcontent-%COMP%]{list-style-position:inside;padding:0}.video[_ngcontent-%COMP%]{background-color:#ffffff80;margin:0 auto}@media (min-width:1200px){.about[_ngcontent-%COMP%]{grid-column:1/2;grid-row:8/13}.ad[_ngcontent-%COMP%]{grid-row:11/13;grid-column:2/3}.buy[_ngcontent-%COMP%]{grid-row:9/11;grid-column:2/3}.description[_ngcontent-%COMP%]{grid-column:2/3;grid-row:4/9}.grid[_ngcontent-%COMP%]{grid-template-columns:40% 60%;grid-template-rows:1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 6fr;text-align:center}.pageContainer[_ngcontent-%COMP%]{width:50%}.pluginCard[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/8}.title[_ngcontent-%COMP%]{grid-row:1/4;grid-column:2/3}.video[_ngcontent-%COMP%]{grid-column:1/3;grid-row:13/14;width:50%}}"]})};var Iy=[{path:"about",component:uc},{path:"shop/:id",component:eu},{path:"shop",component:Zc},{path:"contact",component:cc},{path:"home",component:Ya},{path:"",redirectTo:"home",pathMatch:"full"}];var oI="@",aI=(()=>{class n{constructor(t,r,i,s,a){this.doc=t,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=K(Lf,{optional:!0}),this.loadingSchedulerFn=K(cI,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-I652GZID.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new Ie(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new hf(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let h=a.createRenderer(t,r);s.use(h),this.scheduler?.notify(10)}).catch(a=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){ku()}}static{this.\u0275prov=we({token:n,factory:n.\u0275fac})}}return n})(),hf=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(oI)}},cI=new Re("");function Cy(n="animations"){return Uf("NgAsyncAnimations"),ys([{provide:ba,useFactory:(e,t,r)=>new aI(e,t,r,n),deps:[bt,Va,Bn]},{provide:Nf,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ty={providers:[Yf({eventCoalescing:!0}),Wp(Iy),Cy()]};var tu=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=tt({type:n,selectors:[["app-header"]],standalone:!0,features:[nt],decls:13,vars:0,consts:[["scrollamount","15","scrolldelay","50","truespeed",""],["routerLink","home","routerLinkActive","active",1,"nav-link"],["routerLink","about","routerLinkActive","active",1,"nav-link"],["routerLink","shop","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"]],template:function(t,r){t&1&&($(0,"header")(1,"marquee",0)(2,"pre"),G(3,`      \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2593\u2588\u2588\u2588   \u2584\u2584\u2584       \u2584\u2588\u2588\u2588\u2588\u2584  \u2593\u2588\u2588\u2588\u2588\u2588 \u2588     \u2588\u2591 \u2584\u2584\u2584       \u2588\u2588\u2593    \u2588\u2588 \u2584\u2588\u2580
    \u2592\u2588\u2588    \u2592 \u2593\u2588\u2588\u2591  \u2588\u2588 \u2592\u2588\u2588\u2588\u2588\u2584    \u2592\u2588\u2588\u2580 \u2580\u2588  \u2593\u2588   \u2580\u2593\u2588\u2591 \u2588 \u2591\u2588\u2591\u2592\u2588\u2588\u2588\u2588\u2584    \u2593\u2588\u2588\u2592    \u2588\u2588\u2584\u2588\u2592 
    \u2591 \u2593\u2588\u2588\u2584   \u2593\u2588\u2588\u2591 \u2588\u2588\u2593\u2592\u2592\u2588\u2588  \u2580\u2588\u2584  \u2592\u2593\u2588    \u2584 \u2592\u2588\u2588\u2588  \u2592\u2588\u2591 \u2588 \u2591\u2588 \u2592\u2588\u2588  \u2580\u2588\u2584  \u2592\u2588\u2588\u2591   \u2593\u2588\u2588\u2588\u2584\u2591 
      \u2592   \u2588\u2588\u2592\u2592\u2588\u2588\u2584\u2588\u2593\u2592 \u2592\u2591\u2588\u2588\u2584\u2584\u2584\u2584\u2588\u2588\u2592\u2592\u2593\u2593\u2584 \u2584\u2588\u2588 \u2592\u2593\u2588  \u2584\u2591\u2588\u2591 \u2588 \u2591\u2588 \u2591\u2588\u2588\u2584\u2584\u2584\u2584\u2588\u2588 \u2592\u2588\u2588\u2591   \u2593\u2588\u2588 \u2588\u2584 
    \u2592\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2588\u2588\u2592 \u2591  \u2591\u2592\u2593\u2588   \u2593\u2588\u2588\u2591\u2592 \u2593\u2588\u2588\u2588\u2580 \u2592\u2591\u2592\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2592\u2588\u2588\u2593 \u2592\u2593\u2588   \u2593\u2588\u2588\u2592\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2588\u2588\u2592 \u2588\u2584
    \u2592 \u2592\u2593\u2592 \u2592 \u2591\u2592\u2593\u2592\u2591 \u2591  \u2591\u2591\u2592\u2592   \u2593\u2592\u2588\u2591\u2591 \u2591\u2592 \u2592  \u2591\u2591\u2591 \u2592\u2591 \u2591 \u2593\u2591\u2592 \u2592  \u2591\u2592\u2592   \u2593\u2592\u2588\u2591\u2591 \u2592\u2591\u2593  \u2592 \u2592\u2592 \u2593\u2592
    \u2591 \u2591\u2592  \u2591 \u2591\u2591\u2592 \u2591     \u2591 \u2591   \u2592\u2592    \u2591  \u2592  \u2591 \u2591 \u2591    \u2592 \u2591 \u2591  \u2591 \u2591   \u2592\u2592 \u2591\u2591 \u2591 \u2592  \u2591 \u2591\u2592 \u2592\u2591
    \u2591  \u2591  \u2591  \u2591\u2591         \u2591   \u2592   \u2591           \u2591    \u2591   \u2591    \u2591   \u2592     \u2591 \u2591  \u2591 \u2591\u2591 \u2591 
          \u2591                 \u2591   \u2591 \u2591     \u2591   \u2591      \u2591          \u2591  \u2591    \u2591  \u2591  \u2591   
        `),q()(),$(4,"nav")(5,"a",1),G(6,"Home"),q(),$(7,"a",2),G(8,"About"),q(),$(9,"a",3),G(10,"Shop"),q(),$(11,"a",4),G(12,"Contact"),q()()())},dependencies:[ti,Kp],styles:[".active[_ngcontent-%COMP%]{color:#0ff;background-color:#808080b3}header[_ngcontent-%COMP%]{font-size:0}marquee[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0;background:none;color:#fff;border-bottom:3px solid white;font-size:large}nav[_ngcontent-%COMP%]{width:100vw;margin:0;border-bottom:1px solid white;text-align:center}.nav-link[_ngcontent-%COMP%]{display:inline-block;color:#0399e5;padding:10px 15px;border:1px solid white;font-size:1.2rem}.nav-link[_ngcontent-%COMP%]:hover{color:#0ff;background-color:#8080804d}"]})};var nu=class n{title="angularspacewalk";plugins=[];app;db;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=tt({type:n,selectors:[["app-root"]],standalone:!0,features:[nt],decls:3,vars:0,template:function(t,r){t&1&&(ne(0,"app-header"),$(1,"main"),ne(2,"router-outlet"),q())},dependencies:[Sl,tu]})};lp(nu,Ty).catch(n=>console.error(n));
